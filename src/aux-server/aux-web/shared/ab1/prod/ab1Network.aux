{"version":1,"state":{"a4cbdcb9-3bb5-4fdf-bc18-dc4125a3f7ca":{"id":"a4cbdcb9-3bb5-4fdf-bc18-dc4125a3f7ca","space":"shared","tags":{"system":"ab1.action.host","ab1Action":"@shout(\"ab1MenuReset\");\n\nlet networkBot = getBot(\"ab1ID\", \"network\");\nlet menuDim = os.getMenuDimension();\nlet menuButton = {};\n\nmenuButton.space = \"tempLocal\";\nmenuButton[menuDim] = true;\nmenuButton.ab1MenuReset = \"@ destroy(thisBot);\";\nmenuButton.ab1Click = \"@ destroy(thisBot);\";\nmenuButton.menuItemStyle = `ðŸ§¬ {\"border-radius\": \"9px 9px 9px 9px\", \"margin-top\": \"6px\"}`;\nmenuButton.labelAlignment = \"left\";\nmenuButton.ab1MenuButton = true;\nmenuButton[menuDim+\"SortOrder\"] = 0;\n\nif (networkBot.tags.hostID)\n{\n    menuButton.label = \"join code: \" + networkBot.tags.hostID;\n}\nelse\n{\n    menuButton.label = \"host\";\n}\n\nmenuButton.formAddress = \"public\";\nmenuButton.color = \"#55E679\";\nmenuButton.onClick = `@ shout('ab1CreateHost');`;\n\ncreate(menuButton);\n\nmenuButton[menuDim+\"SortOrder\"] = 1;\nmenuButton.form = \"input\";\nmenuButton.label = \"join\";\nmenuButton.formAddress = \"group_add\";\nmenuButton.onSubmit = `@ shout('ab1JoinHost', that);`;\n\ncreate(menuButton);","ab1":true,"ab1ID":"network","ab1Icon":"travel_explore","ab1MenuLabel":"connect","ab1Skill":"true","ab1UpdateID":"a4cbdcb9-3bb5-4fdf-bc18-dc4125a3f7ca","color":"#55E679","destroyable":"false","strokeColor":"orange","scaleX":"0.8","scaleY":"0.8","scaleZ":"1.6","scale":"1","ab1Z":0,"ab1X":8,"ab1Y":8,"ab1CreateHost":"@shout(\"ab1Refresh\");\n\nif (tags.hostID)\n{\n    os.toast(\"code copied to clipboard\");\n\n    os.setClipboard(tags.hostID);\n\n    return;\n}\n\nlet newHostID = uuid().substring(0,4);\n\ntags.hostID = newHostID;\n\nlet recordKey = await os.getData(ab1LongTermMemory.tags.ab1RecordKey, \"b207a5e4-d531-484f-a0d6-6626bef59013\", \"https://publicos.link\");\nlet recordData = await os.recordData(recordKey.data, newHostID, configBot.tags.url, \"https://publicos.link\");\n\nif (recordData.success)\n{\n    os.setClipboard(tags.hostID);\n\n    os.toast(\"host generated, code copied to clipboard: \" + newHostID);\n}\nelse\n{\n    os.toast(\"something went wrong, please try again\");\n}","ab1JoinHost":"@shout(\"ab1Refresh\");\n\nlet recordKey = await os.getData(ab1LongTermMemory.tags.ab1RecordKey, \"b207a5e4-d531-484f-a0d6-6626bef59013\", \"https://publicos.link\");\nlet getRecord = await os.getData(recordKey.data, that.text, \"https://publicos.link/\");\n\nif (getRecord.success)\n{\n    os.toast(\"joining host now\");\n    \n    os.goToURL(getRecord.data);\n}\nelse\n{\n    os.toast(\"unable to find host, please check code and try again\");\n}","onCreate":"@tags.hostID = null;","hostID":"fa08","onMenuCreate":null}}}}