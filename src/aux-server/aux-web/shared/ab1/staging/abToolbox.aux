{"version":2,"updates":[{"id":0,"timestamp":1725568490282,"update":"AbsByuDvyQUAJwEEYm90cyQwYTgwODQxNi1lNjFiLTRlYTMtOWE1Zi0yYWUwYzU3ZWVjMzQBJwDK4O/JBQAOYWJHcmlkTWVudUljb24CBADK4O/JBQETaG9tZV9yZXBhaXJfc2VydmljZScAyuDvyQUAFGFiR3JpZE1lbnVPbkdlbmVyYXRlAgQAyuDvyQUVVkBjb25zdCBzeXN0ZW1UYWcgPSBsaW5rcy5iYXNlU2tpbGwudGFncy5zeXN0ZW07Cgp0YWdzLmxhYmVsID0gc3lzdGVtVGFnLnN1YnN0cmluZygxMSk7JwDK4O/JBQAOYWJUb29sYm94UmVzZXQCBADK4O/JBWxOQGlmIChsaW5rcy5tZW51Qm90cykKewogICAgZGVzdHJveShsaW5rcy5tZW51Qm90cyk7Cn0KCmNsZWFyVGFnTWFza3ModGhpc0JvdCk7JwDK4O/JBQANYWN0aXZlTWVudVRhZwIEAMrg78kFuwGYDUBjb25maWdCb3QubWFza3MubWVudVBvcnRhbCA9ICJhYlRvb2xib3hNZW51IjsKCmNvbnN0IHBvc3NpYmxlVG9vbHMgPSBnZXRCb3RzKCJzeXN0ZW0iKTsKY29uc3QgdG9vbGJveE5hbWUgPSB0YWdzLnN5c3RlbS5zdWJzdHJpbmcoMTEpOwpjb25zdCBncmlkSW5mb3JtYXRpb24gPSBhYlJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXM7CmNvbnN0IG1lbnVCb3RzID0gW107CmNvbnN0IHRvb2xCb3RCdXR0b24gPSB7fTsKCnRvb2xCb3RCdXR0b24uc3BhY2UgPSAidGVtcExvY2FsIjsKdG9vbEJvdEJ1dHRvbi5tZW51SXRlbVN0eWxlID0geyJib3JkZXItcmFkaXVzIjoiOHB4IiwgIm1hcmdpbi10b3AiOiIzcHgifTsKdG9vbEJvdEJ1dHRvbi5hYlRvb2xib3hSZXNldCA9ICJAIGRlc3Ryb3kodGhpc0JvdCk7IjsKdG9vbEJvdEJ1dHRvbi5sYWJlbEFsaWdubWVudCA9ICJsZWZ0IjsKdG9vbEJvdEJ1dHRvbi5hYlRvb2xib3hNZW51ID0gdHJ1ZTsKdG9vbEJvdEJ1dHRvbi5ncmlkSW5mb3JtYXRpb24gPSB0aGF0Py5ncmlkSW5mb3JtYXRpb24gPz8gewogICAgW2dyaWRJbmZvcm1hdGlvbi5kaW1lbnNpb25dOiB0cnVlLCAKICAgIFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uICsgIlgiXTogZ3JpZEluZm9ybWF0aW9uLnBvc2l0aW9uLngsIAogICAgW2dyaWRJbmZvcm1hdGlvbi5kaW1lbnNpb24gKyAiWSJdOiBncmlkSW5mb3JtYXRpb24ucG9zaXRpb24ueSwgCiAgICBsaXN0ZW5pbmc6IHRydWUsIAogICAgc3lzdGVtOiBudWxsLAogICAgY3JlYXRvcjogbnVsbAp9Owp0b29sQm90QnV0dG9uLm9uQ2xpY2sgPSBgQCBjcmVhdGUobGlua3MuYmFzZVRvb2wsIHRoaXNCb3QudGFncy5ncmlkSW5mb3JtYXRpb24pOyBzaG91dCgnYWJUb29sYm94UmVzZXQnKTsgc2hvdXQoJ2FiQ2xpY2snKTsgYDsKCmZvciAobGV0IGkgPSAwOyBpIDwgcG9zc2libGVUb29scy5sZW5ndGg7IGkrKykKewogICAgY29uc3QgY3VycmVudFBvc3NpYmxlID0gcG9zc2libGVUb29sc1tpXTsKICAgIGNvbnN0IHBvc3NpYmxlU3lzdGVtVGFnID0gY3VycmVudFBvc3NpYmxlLnRhZ3Muc3lzdGVtOwogICAgY29uc3QgdG9vbFByZWZpeCA9IHRvb2xib3hOYW1lICsgIi50b29sLiI7CgogICAgaWYgKHBvc3NpYmxlU3lzdGVtVGFnLmluZGV4T2YodG9vbFByZWZpeCkgIT0gLTEpCiAgICB7CiAgICAgICAgY29uc3QgY3VycmVudFRvb2wgPSBjdXJyZW50UG9zc2libGU7CiAgICAgICAgY29uc3QgdG9vbEluZGV4ID0gY3VycmVudFRvb2wudGFncy5zeXN0ZW0uaW5kZXhPZigiLnRvb2wuIik7CiAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBjdXJyZW50VG9vbC50YWdzLnN5c3RlbS5zdWJzdHJpbmcodG9vbEluZGV4ICsgNik7CgogICAgICAgIHRvb2xCb3RCdXR0b24ubGFiZWwgPSB0b29sTmFtZTsKICAgICAgICB0b29sQm90QnV0dG9uLmNvbG9yID0gY3VycmVudFRvb2wudGFncy5jb2xvcjsKICAgICAgICB0b29sQm90QnV0dG9uLmJhc2VUb29sID0gZ2V0TGluayhjdXJyZW50VG9vbCk7CgogICAgICAgIGNvbnN0IG5ld01lbnVCb3QgPSBhd2FpdCBjcmVhdGUodG9vbEJvdEJ1dHRvbik7CgogICAgICAgIG1lbnVCb3RzLnB1c2gobmV3TWVudUJvdCk7CiAgICB9Cn0KCm1hc2tzLm9uR3JpZENsaWNrID0gYEAgdGhpc0JvdC5hYlRvb2xib3hSZXNldCgpO2A7Cm1hc2tzLm1lbnVCb3RzID0gZ2V0TGluayhtZW51Qm90cyk7JwDK4O/JBQAFbGFiZWwCBADK4O/JBdQODGJsYW5rVG9sbGJveCcAyuDvyQUACWxpc3RlbmluZwIEAMrg78kF4Q4FZmFsc2UnAMrg78kFAAdvbkNsaWNrAgQAyuDvyQXnDtcBQHRoaXNCb3QuYWJHcmlkTWVudUFjdGlvbih7CiAgICBbY29uZmlnQm90LnRhZ3MuZ3JpZFBvcnRhbF06IHRydWUsIAogICAgW2NvbmZpZ0JvdC50YWdzLmdyaWRQb3J0YWwgKyAiWCJdOiAwLCAKICAgIFtjb25maWdCb3QudGFncy5ncmlkUG9ydGFsICsgIlkiXTogMCwgCiAgICBsaXN0ZW5pbmc6IHRydWUsIAogICAgc3lzdGVtOiBudWxsLAogICAgY3JlYXRvcjogbnVsbAp9KTsnAMrg78kFAAhvbkNyZWF0ZQIEAMrg78kFvxD6BUBpZiAoIXRhZ3Muc3lzdGVtKQp7CiAgICB0YWdzLnN5c3RlbSA9ICJhYi50b29sYm94LmJsYW5rVG9vbGJveCI7Cn0KCmNvbnN0IHBvc3NpYmxlVG9vbEJvdHMgPSBnZXRCb3RzKCJzeXN0ZW0iKTsKY29uc3QgdG9vbGJveE5hbWUgPSB0YWdzLnN5c3RlbS5zdWJzdHJpbmcoMTEpOwoKbGV0IHRvb2xCb3QgPSB0cnVlOwoKZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NzaWJsZVRvb2xCb3RzLmxlbmd0aDsgaSsrKQp7CiAgICBjb25zdCBjdXJyZW50UG9zc2libGUgPSBwb3NzaWJsZVRvb2xCb3RzW2ldOwogICAgY29uc3QgcG9zc2libGVTeXN0ZW1UYWcgPSBjdXJyZW50UG9zc2libGUudGFncy5zeXN0ZW07CiAgICBjb25zdCB0b29sUHJlZml4ID0gdG9vbGJveE5hbWUgKyAiLnRvb2wuIjsKCiAgICBpZiAocG9zc2libGVTeXN0ZW1UYWcuaW5kZXhPZih0b29sUHJlZml4KSAhPSAtMSkKICAgIHsKICAgICAgICB0b29sQm90ID0gZmFsc2U7CiAgICB9Cn0KCmlmICh0b29sQm90KQp7CiAgICBjb25zdCBleGFtcGxlVG9vbEJvdCA9IHt9OwoKICAgIGV4YW1wbGVUb29sQm90Lm9uQ2xpY2sgPSAiQCBvcy50b2FzdCgnaGVsbG8gd29ybGQnKSI7CiAgICBleGFtcGxlVG9vbEJvdC5jb2xvciA9ICJnb2xkIjsKICAgIGV4YW1wbGVUb29sQm90LnN5c3RlbSA9IHRvb2xib3hOYW1lICsgIi50b29sLmJsYW5rRXhhbXBsZSI7CgogICAgY3JlYXRlKGV4YW1wbGVUb29sQm90KTsKfQoKdGFncy5hYkdyaWRNZW51QWN0aW9uID0gdGFncy5hY3RpdmVNZW51VGFnOycAyuDvyQUABnN5c3RlbQIEAMrg78kFuhYbbXlUb29sYm94LnRvb2wuYmxhbmtUb29sYm94JwDK4O/JBQAKYWJJRE9yaWdpbgIEAMrg78kF1hYJYmJUb29sYm94JwDK4O/JBQAKYWJJRFN0dWRpbwIEAMrg78kF4BYkNjI0MzU0MDgtZGQ1ZC00ODU2LWEyOWMtZWY0ZWIwNGY3ZmVlJwDK4O/JBQAJYWJUb29sYm94AgQAyuDvyQWFFwR0cnVlJwDK4O/JBQAJYWJWZXJzaW9uAgQAyuDvyQWKFxQ5LjY1LjEuMTcyNTU2ODQ5MDI4MCcAyuDvyQUACGFiSWdub3JlAgQAyuDvyQWfFwR0cnVlJwDK4O/JBQAHYWJBZGFwdAIEAMrg78kFpBcpQHRhZ3MuY29sb3IgPSBhYlJlbW1iZXIudGFncy5hYkJhc2VDb2xvcjsnAMrg78kFAAVjb2xvcgIEAMrg78kFzhcHIzAwRDlDRCcAyuDvyQUAD2FiR3JpZE1lbnVDb2xvcgIEAMrg78kF1hcHIzAwRDlDRCcBBGJvdHMkOGY3NmJkYzMtNzA1MC00NzJjLWE4YTUtYzdmYjRhZGI1YWU3AScAyuDvyQXeFxBhYkdyaWRNZW51QWN0aW9uAgQAyuDvyQXfF8YNQHNob3V0KCJhYlRvb2xib3hSZXNldCIpOwoKY29uZmlnQm90Lm1hc2tzLm1lbnVQb3J0YWwgPSAiYWJUb29sYm94TWVudSI7Cgpjb25zdCBwb3NzaWJsZVRvb2xzID0gZ2V0Qm90cygic3lzdGVtIik7CmNvbnN0IHRvb2xib3hOYW1lID0gdGFncy5zeXN0ZW0uc3Vic3RyaW5nKDExKTsKY29uc3QgZ3JpZEluZm9ybWF0aW9uID0gYWJSZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzOwpjb25zdCBtZW51Qm90cyA9IFtdOwpjb25zdCB0b29sQm90QnV0dG9uID0ge307Cgp0b29sQm90QnV0dG9uLnNwYWNlID0gInRlbXBMb2NhbCI7CnRvb2xCb3RCdXR0b24ubWVudUl0ZW1TdHlsZSA9IHsiYm9yZGVyLXJhZGl1cyI6IjhweCIsICJtYXJnaW4tdG9wIjoiM3B4In07CnRvb2xCb3RCdXR0b24uYWJUb29sYm94UmVzZXQgPSAiQCBkZXN0cm95KHRoaXNCb3QpOyI7CnRvb2xCb3RCdXR0b24ubGFiZWxBbGlnbm1lbnQgPSAibGVmdCI7CnRvb2xCb3RCdXR0b24uYWJUb29sYm94TWVudSA9IHRydWU7CnRvb2xCb3RCdXR0b24uZ3JpZEluZm9ybWF0aW9uID0gdGhhdD8uZ3JpZEluZm9ybWF0aW9uID8/IHsKICAgIFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uXTogdHJ1ZSwgCiAgICBbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJYIl06IGdyaWRJbmZvcm1hdGlvbi5wb3NpdGlvbi54LCAKICAgIFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uICsgIlkiXTogZ3JpZEluZm9ybWF0aW9uLnBvc2l0aW9uLnksIAogICAgbGlzdGVuaW5nOiB0cnVlLCAKICAgIHN5c3RlbTogbnVsbCwKICAgIGFiSWdub3JlOiBudWxsLAogICAgY3JlYXRvcjogbnVsbAp9Owp0b29sQm90QnV0dG9uLm9uQ2xpY2sgPSBgQCBjcmVhdGUobGlua3MuYmFzZVRvb2wsIHRoaXNCb3QudGFncy5ncmlkSW5mb3JtYXRpb24pOyBzaG91dCgnYWJUb29sYm94UmVzZXQnKTsgc2hvdXQoJ2FiQ2xpY2snKTsgYDsKCmZvciAobGV0IGkgPSAwOyBpIDwgcG9zc2libGVUb29scy5sZW5ndGg7IGkrKykKewogICAgY29uc3QgY3VycmVudFBvc3NpYmxlID0gcG9zc2libGVUb29sc1tpXTsKICAgIGNvbnN0IHBvc3NpYmxlU3lzdGVtVGFnID0gY3VycmVudFBvc3NpYmxlLnRhZ3Muc3lzdGVtOwogICAgY29uc3QgdG9vbFByZWZpeCA9IHRvb2xib3hOYW1lICsgIi50b29sLiI7CgogICAgaWYgKHBvc3NpYmxlU3lzdGVtVGFnLmluZGV4T2YodG9vbFByZWZpeCkgIT0gLTEpCiAgICB7CiAgICAgICAgY29uc3QgY3VycmVudFRvb2wgPSBjdXJyZW50UG9zc2libGU7CiAgICAgICAgY29uc3QgdG9vbEluZGV4ID0gY3VycmVudFRvb2wudGFncy5zeXN0ZW0uaW5kZXhPZigiLnRvb2wuIik7CiAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBjdXJyZW50VG9vbC50YWdzLnN5c3RlbS5zdWJzdHJpbmcodG9vbEluZGV4ICsgNik7CgogICAgICAgIHRvb2xCb3RCdXR0b24ubGFiZWwgPSB0b29sTmFtZTsKICAgICAgICB0b29sQm90QnV0dG9uLmNvbG9yID0gY3VycmVudFRvb2wudGFncy5jb2xvcjsKICAgICAgICB0b29sQm90QnV0dG9uLmJhc2VUb29sID0gZ2V0TGluayhjdXJyZW50VG9vbCk7CgogICAgICAgIGNvbnN0IG5ld01lbnVCb3QgPSBhd2FpdCBjcmVhdGUodG9vbEJvdEJ1dHRvbik7CgogICAgICAgIG1lbnVCb3RzLnB1c2gobmV3TWVudUJvdCk7CiAgICB9Cn0KCm1hc2tzLm9uR3JpZENsaWNrID0gYEAgdGhpc0JvdC5hYlRvb2xib3hSZXNldCgpO2A7Cm1hc2tzLm1lbnVCb3RzID0gZ2V0TGluayhtZW51Qm90cyk7JwDK4O/JBd4XDmFiR3JpZE1lbnVJY29uAgQAyuDvyQWmJRNob21lX3JlcGFpcl9zZXJ2aWNlJwDK4O/JBd4XFGFiR3JpZE1lbnVPbkdlbmVyYXRlAgQAyuDvyQW6JVZAY29uc3Qgc3lzdGVtVGFnID0gbGlua3MuYmFzZVNraWxsLnRhZ3Muc3lzdGVtOwoKdGFncy5sYWJlbCA9IHN5c3RlbVRhZy5zdWJzdHJpbmcoMTEpOycAyuDvyQXeFwphYklET3JpZ2luAgQAyuDvyQWRJgliYlRvb2xib3gnAMrg78kF3hcKYWJJRFN0dWRpbwIEAMrg78kFmyYkNjI0MzU0MDgtZGQ1ZC00ODU2LWEyOWMtZWY0ZWIwNGY3ZmVlJwDK4O/JBd4XDmFiVG9vbGJveFJlc2V0AgQAyuDvyQXAJk5AaWYgKGxpbmtzLm1lbnVCb3RzKQp7CiAgICBkZXN0cm95KGxpbmtzLm1lbnVCb3RzKTsKfQoKY2xlYXJUYWdNYXNrcyh0aGlzQm90KTsnAMrg78kF3hcEZm9ybQIEAMrg78kFjycHbm90aGluZycAyuDvyQXeFwhvbkNyZWF0ZQIEAMrg78kFlycbQHRoaXNCb3Qub25JbnN0U3RyZWFtaW5nKCk7JwDK4O/JBd4XD29uSW5zdFN0cmVhbWluZwIEAMrg78kFsyeEBUBjb25zdCBwb3NzaWJsZVRvb2xCb3RzID0gZ2V0Qm90cygic3lzdGVtIik7CmNvbnN0IHRvb2xib3hOYW1lID0gdGFncy5zeXN0ZW0uc3Vic3RyaW5nKDExKTsKCmxldCB0b29sQm90ID0gdHJ1ZTsKCmZvciAobGV0IGkgPSAwOyBpIDwgcG9zc2libGVUb29sQm90cy5sZW5ndGg7IGkrKykKewogICAgY29uc3QgY3VycmVudFBvc3NpYmxlID0gcG9zc2libGVUb29sQm90c1tpXTsKICAgIGNvbnN0IHBvc3NpYmxlU3lzdGVtVGFnID0gY3VycmVudFBvc3NpYmxlLnRhZ3Muc3lzdGVtOwogICAgY29uc3QgdG9vbFByZWZpeCA9IHRvb2xib3hOYW1lICsgIi50b29sLiI7CgogICAgaWYgKHBvc3NpYmxlU3lzdGVtVGFnLmluZGV4T2YodG9vbFByZWZpeCkgIT0gLTEpCiAgICB7CiAgICAgICAgdG9vbEJvdCA9IGZhbHNlOwogICAgfQp9CgppZiAodG9vbEJvdCkKewogICAgY29uc3QgZXhhbXBsZVRvb2xCb3QgPSB7fTsKCiAgICBleGFtcGxlVG9vbEJvdC5vbkNsaWNrID0gIkAgb3MudG9hc3QoJ2hlbGxvIHdvcmxkJykiOwogICAgZXhhbXBsZVRvb2xCb3QuY29sb3IgPSAiZ29sZCI7CiAgICBleGFtcGxlVG9vbEJvdC5zeXN0ZW0gPSB0b29sYm94TmFtZSArICIudG9vbC5leGFtcGxlIjsKCiAgICBjcmVhdGUoZXhhbXBsZVRvb2xCb3QpOwp9JwDK4O/JBd4XBnN5c3RlbQIEAMrg78kFuCwUYWIudG9vbGJveC5teVRvb2xib3gnAMrg78kF3hcHYWJBZGFwdAIEAMrg78kFzSzFAkBpZiAoY29uZmlnQm90LnRhZ3MudG9vbGJveCkKewogICAgbGlua3MuYXNrLmFiQ29yZU1lbnVBY3Rpb24oe21lc3NhZ2U6IGNvbmZpZ0JvdC50YWdzLnRvb2xib3h9KTsKfQoKY29uc3QgYmxhbmtCb3ggPSBnZXRCb3QoInN5c3RlbSIsICJteVRvb2xib3gudG9vbC5ibGFua1Rvb2xib3giKTsKCmlmIChibGFua0JveCkKewogICAgYmxhbmtCb3gudGFncy5jb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJCYXNlU3Ryb2tlQ29sb3I7CiAgICBibGFua0JveC50YWdzLmFiR3JpZE1lbnVDb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJCYXNlU3Ryb2tlQ29sb3I7Cn0nAMrg78kF3hcTYWJHcmlkTWVudVNvcnRPcmRlcgIEAMrg78kFky8BMycAyuDvyQXeFwhhYklnbm9yZQIEAMrg78kFlS8EdHJ1ZScAyuDvyQXeFwlhYlRvb2xib3gCBADK4O/JBZovBHRydWUnAMrg78kF3hcFbGVhcm4CBADK4O/JBZ8vKPCflJc2NjU3Yjg2NS1lOTgzLTQ0MDEtOWZjOS1mNTQxOGQxOGE3ZjcnAMrg78kF3hcDYXNrAgQAyuDvyQXGLyfwn5SXYzg1YzFkNi05ZjFhLTQwZDQtODJlMS01YmQ2ODAzNDljMjcnAMrg78kF3hcJYWJWZXJzaW9uAgQAyuDvyQXsLxQ5LjY1LjEuMTcyNTU2ODQ5MDI4MCcAyuDvyQXeFwhyZW1lbWJlcgIEAMrg78kFgTAo8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycBBGJvdHMkZTQ1OTZmOTItODBhMy00MWE2LWEyNTEtNTUzZjA1ZjJhZmE3AScAyuDvyQWoMARuYW1lAgQAyuDvyQWpMAhiYlNreWJveCcAyuDvyQWoMAVpbnB1dAIEAMrg78kFsjAHa2l0Y2hlbicAyuDvyQWoMAtmb3JtQWRkcmVzcwIEAMrg78kFujABMCcAyuDvyQWoMBFwc1NreWJveFBhaW50ZXJJZAIEAMrg78kFvDAkNzk2MDRiZDYtYzY4Zi00MzRlLWE4MmItNmVkZWQ3MmQ0OTljJwDK4O/JBagwBWxhYmVsAgQAyuDvyQXhMAhiYlNreWJveCcAyuDvyQWoMAdvbkNsaWNrAgQAyuDvyQXqMPwBQGxldCBza3lQYWludGVyID0gZ2V0Qm90KCJuYW1lIiwgInBzU2t5UGFpbnRlciIpOwoKaWYgKHNreVBhaW50ZXIgPT0gbnVsbCkgCnsKICAgIHRoaXNCb3QuY3JlYXRlSW1wb3J0UHJvbXB0KCk7Cn0KZWxzZSBpZiAodGFncy5mb3JtQWRkcmVzcyA9PSAwIHx8IHRhZ3MuZm9ybUFkZHJlc3MgPT0gbnVsbCkgCnsKICAgIHNreVBhaW50ZXIubWFrZUlucHV0TWVudSgpOwp9CmVsc2UgCnsgCiAgICB0aGlzQm90LmdlbmVyYXRlU2t5Ym94KCk7IAp9JwDK4O/JBagwDWJiU2t5Ym94UmVzZXQCBADK4O/JBecyEUBkZXN0cm95KHRoaXNCb3QpJwDK4O/JBagwCW9uRGVzdHJveQIEAMrg78kF+TIVQHNob3V0KCJza3lib3hSZXNldCIpJwDK4O/JBagwF29uQ2hlY2tUb0dlbmVyYXRlU2t5Ym94AgQAyuDvyQWPM8sBQC8vVGhpcyBjb2RlIGNoZWNrIGZvciBleGlzdGluZyBza3lib3gsIGlmIHRoZXJlIGlzIGFuIGV4aXN0aW5nIHNreWJveC4gSXQgd29uJ3QgZ2VuZXJhdGUuICAgCmxldCBleGlzdGluZ1NreWJveCA9IGdldEJvdCgibmFtZSIsInNreWJveCIpOwoKaWYoZXhpc3RpbmdTa3lib3ghPW51bGwpIHJldHVybjsKCnRoaXNCb3QuZ2VuZXJhdGVTa3lib3goKTsgICAnAMrg78kFqDAOZ2VuZXJhdGVTa3lib3gCBADK4O/JBds0vgdAaWYgKHRhZ3MuZm9ybUFkZHJlc3MgPT0gMCkgCnsKICAgIGxldCBza3lib3hHZW5lcmF0b3IgPSBnZXRCb3QoIm5hbWUiLCAicHNTa3lQYWludGVyIik7CgogICAgdGFncy5mb3JtQWRkcmVzcyA9IGF3YWl0IHNreWJveEdlbmVyYXRvci5nZW5lcmF0ZVNreWJveCh0YWdzLmlucHV0KTsKfQoKc2hvdXQoInNreWJveFJlc2V0Iik7Cgpjb25zdCBkaW1lbnNpb24gPSBjb25maWdCb3QudGFncy5ncmlkUG9ydGFsOwpjb25zdCBza3lib3ggPSB7fTsKCnNreWJveC5zcGFjZSA9ICJ0ZW1wTG9jYWwiOwpza3lib3hbZGltZW5zaW9uXSA9IHRydWU7CnNreWJveFtkaW1lbnNpb24gKyAiUm90YXRpb25YIl0gPSAxLjU3MDg7CnNreWJveFtkaW1lbnNpb24gKyAiUm90YXRpb25ZIl0gPSAwOwpza3lib3hbZGltZW5zaW9uICsgIloiXSA9IC0xMDA7CnNreWJveC5hbmNob3JQb2ludCA9ICJjZW50ZXIiOwpza3lib3guZm9ybSA9ICJza3lib3giOwpza3lib3gucGFyayA9IHRydWU7CnNreWJveC5mb3JtQWRkcmVzcyA9IHRhZ3MuZm9ybUFkZHJlc3M7CnNreWJveC5wb2ludGFibGUgPSBmYWxzZTsKc2t5Ym94LnNreWJveFJlc2V0ID0gIkAgZGVzdHJveSh0aGlzQm90KTsiOwpza3lib3guc3lzdGVtID0gInBhcmsuYm90LnNreWJveCI7CnNreWJveC5zY2FsZSA9IDQ1MDsKCmNyZWF0ZShza3lib3gpOwoKZ3JpZFBvcnRhbEJvdC50YWdzLnBvcnRhbENhbWVyYVR5cGUgPSAicGVyc3BlY3RpdmUiOwpncmlkUG9ydGFsQm90LnRhZ3MucG9ydGFsUGFubmFibGVNYXhYID0gMzA7CmdyaWRQb3J0YWxCb3QudGFncy5wb3J0YWxQYW5uYWJsZU1pblggPSAtMzA7CmdyaWRQb3J0YWxCb3QudGFncy5wb3J0YWxQYW5uYWJsZU1heFkgPSAzMDsKZ3JpZFBvcnRhbEJvdC50YWdzLnBvcnRhbFBhbm5hYmxlTWluWSA9IC0zMDsKZ3JpZFBvcnRhbEJvdC50YWdzLnBvcnRhbFpvb21hYmxlID0gZmFsc2U7CgpyZXR1cm47JwDK4O/JBagwCGhhdGNoRWdnAgQAyuDvyQWaPIgBQGNvbnN0IHNreVBhaW50ZXIgPSBhd2FpdCBzaG91dCgiaGF0Y2giLCB7YWJJRDogInBzU2t5UGFpbnRlciIsIHJlY29yZEtleTogImU5MWVhYjBkLTZhNzUtNGFiOS04YTBlLTUwYTRjYzBjMWQzNCIsIGF1dG9IYXRjaDogdHJ1ZX0pWzBdOycAyuDvyQWoMApvbkNsaWNrWWVzAgQAyuDvyQWjPVlAbGV0IHNreWJveCA9IGdldEJvdCgiaWQiLCB0YWdzLmJiU2t5Ym94SWQpOwoKc2t5Ym94LmhhdGNoRWdnKCk7CgpzaG91dCgibG9hZE1lbnVSZXNldCIpOycAyuDvyQWoMAlvbkNsaWNrTm8CBADK4O/JBf09F0BzaG91dCgibG9hZE1lbnVSZXNldCIpJwDK4O/JBagwC2FkZE1lbnVJdGVtAgQAyuDvyQWVPo4EQC8vYWRkaW5nIGN1c3RvbSBtZW51LCB3aXRoIGFkZGl0aW9uYWwgdGFncwpsZXQgYWRkaXRpb25hbFRhZ3MgPSB0aGF0OwpsZXQgbWVudUJ1dHRvbiA9IHsKICAgIHBvaW50YWJsZTogZmFsc2UsCiAgICBsYWJlbEFsaWdubWVudDogImNlbnRlciIsCiAgICBtZW51U29ydE9yZGVyOiAtNSwKICAgIHRyYWNrTnVtOiAtMSwKICAgIGxvYWRNZW51UmVzZXQ6ICJAIGRlc3Ryb3kodGhpc0JvdCkiLAogICAgbWVudUl0ZW1TdHlsZTogewogICAgICAgICJib3JkZXItcmFkaXVzIjogIjhweCIsCiAgICAgICAgIm1hcmdpbi10b3AiOiAiM3B4IiwKICAgICAgICAib3BhY2l0eSI6IDEsCiAgICB9LAogICAgbWVudVk6IDEsCiAgICBzY2FsZVg6IDUsCiAgICBzY2FsZVo6IDAuNjEsCiAgICBkcmFnZ2FibGU6IGZhbHNlCn0KZm9yIChjb25zdCB0YWcgaW4gYWRkaXRpb25hbFRhZ3MpIAp7CiAgICBtZW51QnV0dG9uW3RhZ10gPSBhZGRpdGlvbmFsVGFnc1t0YWddOwp9CgptZW51QnV0dG9uID0gYXdhaXQgY3JlYXRlKG1lbnVCdXR0b24pOycAyuDvyQWoMBJjcmVhdGVJbXBvcnRQcm9tcHQCBADK4O/JBaRCmwNAY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbCA9ICJiYlNreWJveCI7CgpsZXQgcHJvbXB0WWVzID0gewogICAgYmJTa3lib3g6dHJ1ZSwKICAgIGJiU2t5Ym94SWQ6IHRhZ3MuaWQsCiAgICBjb2xvcjoieWVsbG93IiwKICAgIGxhYmVsOiJJbXBvcnQgU2t5Ym94IEdlbmVyYXRvciIsCiAgICBvbkNsaWNrOnRhZ3Mub25DbGlja1llcywKfQoKbGV0IG1ha2VQcm9tcHRZZXMgPSBhd2FpdCB0aGlzQm90LmFkZE1lbnVJdGVtKHByb21wdFllcyk7CgpsZXQgcHJvbXB0Tm8gPSB7CiAgICBiYlNreWJveDp0cnVlLAogICAgY29sb3I6InJlZCIsCiAgICBsYWJlbDoiQ2FuY2VsIiwKICAgIG9uQ2xpY2s6dGFncy5vbkNsaWNrTm8sCn0KCmxldCBtYWtlUHJvbXB0Tm8gPSBhd2FpdCB0aGlzQm90LmFkZE1lbnVJdGVtKHByb21wdE5vKTsnAMrg78kFqDAGc3lzdGVtAgQAyuDvyQXARRdteVRvb2xib3gudG9vbC5iYlNreWJveCcAyuDvyQWoMAlhYlRvb2xib3gCBADK4O/JBdhFBHRydWUnAMrg78kFqDAIYWJJZ25vcmUCBADK4O/JBd1FBHRydWUnAMrg78kFqDAJbGlzdGVuaW5nAgQAyuDvyQXiRQVmYWxzZScAyuDvyQWoMAlhYlZlcnNpb24CBADK4O/JBehFFDkuNjUuMS4xNzI1NTY4NDkwMjgwJwEEYm90cyRmZDNiYjMzOS0wZWE2LTQ0NzMtODYwOC03N2JkNmY1OTAxNWMBJwDK4O/JBf1FCmFiSURPcmlnaW4CBADK4O/JBf5FCHN0aWNraWVzJwDK4O/JBf1FCmFiSURTdHVkaW8CBADK4O/JBYdGJDczNTcxNzMyLTQ0YmEtNGViOS05NTg0LWZhOWY1YzYzNTY0NigAyuDvyQX9RQZhYlRvb2wBeCgAyuDvyQX9RQthdm9pZERlbGV0ZQF4JwDK4O/JBf1FCmNoZWNrRm9yVUkCBADK4O/JBa5G0AJAaWYgKHRhZ3MuY2hlY2tpbmdGb3JTdGlja3lVSSkgcmV0dXJuOwoKdGFncy5jaGVja2luZ0ZvclN0aWNreVVJID0gdHJ1ZTsKCmNvbnN0IHN0aWNreUFwcEJvdCA9IGdldEJvdCgic3lzdGVtIiwgInN0aWNraWVzLmFwcCIpOwppZiAoIXN0aWNreUFwcEJvdCkgewogICAgc2hvdXQoJ29uTG9va3VwQUJFZ2dzJywgewogICAgICAgIGFiSUQ6ICdzdGlja2llc0FwcCcsCiAgICAgICAgcmVjb3JkS2V5OiAnNzM1NzE3MzItNDRiYS00ZWI5LTk1ODQtZmE5ZjVjNjM1NjQ2JywKICAgICAgICBhdXRvSGF0Y2g6IHRydWUsCiAgICB9KTsKfQoKdGFncy5jaGVja2luZ0ZvclN0aWNreVVJID0gbnVsbDsnAMrg78kF/UUFY29sb3ICBADK4O/JBf9IByNmOWM3NGYnAMrg78kF/UUIZGVzZWxlY3QCBADK4O/JBYdJfEBtYXNrcy5mb3JtT3BhY2l0eSA9IG51bGw7Cm1hc2tzLmhvbWVaID0gbnVsbDsKbWFza3Muc2VsZWN0ZWQgPSBudWxsOwptYXNrcy5zdHJva2VDb2xvciA9ICdjbGVhcic7Cm1hc2tzLnN0cm9rZVdpZHRoID0gbnVsbDsnAMrg78kF/UUMaGFuZGxlVXBkYXRlAgQAyuDvyQWESq4XQC8vIEluaXRpYWxpemUgdXBkYXRlc05lZWRlZCBhcnJheSBpZiBpdCBkb2Vzbid0IGV4aXN0CmNvbnN0IHN0aWNreUFwcCA9IGdldEJvdCgic3lzdGVtIiwgInN0aWNraWVzLmFwcCIpCmlmICghQXJyYXkuaXNBcnJheShzdGlja3lBcHAudGFncy51cGRhdGVzTmVlZGVkKSkgeyBzdGlja3lBcHAudGFncy51cGRhdGVzTmVlZGVkID0gW10gfQovLyBBZGQgdGhpcyBib3QgdG8gdGhlIHVwZGF0ZXNOZWVkZWQgYXJyYXkKc3RpY2t5QXBwLnRhZ3MudXBkYXRlc05lZWRlZC5wdXNoKHRoaXNCb3QuaWQpOwoKaWYgKGNvbmZpZ0JvdC5pZCAhPT0gc3RpY2t5QXBwLnRhZ3MucGxheWVyTGlzdFswXSkgewogICAgY29uc29sZS5sb2coIltzdGlja2llc10gQXZvaWRpbmcgdXBkYXRlIikKICAgIG9zLnNsZWVwKDUwMDApLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJbc3RpY2tpZXNdIGNoZWNraW5nIHRoYXQgdXBkYXRlIGhhcHBlbmVkIikKICAgICAgICBpZiAoZ2V0Qm90KCJzeXN0ZW0iLCAic3RpY2tpZXMuYXBwIikudGFncy51cGRhdGVzTmVlZGVkLmluY2x1ZGVzKHRoaXNCb3QuaWQpKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJbc3RpY2tpZXNdIHVwZGF0ZSB3YXMgbG9zdCwgdXBkYXRpbmcgbGlzdCBvZiBwbGF5ZXJzIikKICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGxpc3Qgb2YgcmVtb3RlcwogICAgICAgICAgICBhd2FpdCB3aGlzcGVyKHN0aWNreUFwcCwgIm9uSW5pdCIpOwogICAgICAgICAgICAvLyBSZS10cnkgdGhlIHVwZGF0ZQogICAgICAgICAgICB3aGlzcGVyKHRoaXNCb3QsICJoYW5kbGVVcGRhdGUiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygiW3N0aWNraWVzXSB1cGRhdGUgd2FzIHN1Y2Nlc3NmdWwiKQogICAgfSkKICAgIHJldHVybgp9Cgpjb25zb2xlLmxvZygiW3N0aWNraWVzXSBjbGFpbWluZyB1cGRhdGUiKQpzdGlja3lBcHAudGFncy51cGRhdGVzTmVlZGVkID0gc3RpY2t5QXBwLnRhZ3MudXBkYXRlc05lZWRlZC5maWx0ZXIodSA9PiB1ICE9PSB0aGlzQm90LmlkKTsKCi8vIEFkZCBhZGRyZXNzIGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0CmNvbnN0IGF1dGhCb3QgPSBhd2FpdCBvcy5yZXF1ZXN0QXV0aEJvdCgpOwppZiAoIXRhZ3Muc3RpY2t5QWRkcmVzcykgdGFncy5zdGlja3lBZGRyZXNzID0gdGhpc0JvdC5pZCArICctJyArIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsKCmNvbnN0IHN0aWNreVJlY29yZCA9IHRhZ3Muc3RpY2t5UmVjb3JkOwppZiAoIXN0aWNreVJlY29yZCkgewogICAgb3MudG9hc3QoIkVycm9yIHVwZGF0aW5nIHN0aWNreSBub3RlIik7CiAgICB0aHJvdyBuZXcgRXJyb3IoIlRyaWVkIHRvIHVwZGF0ZSBhIHN0aWNreSBub3RlLCBidXQgbm8gcmVjb3JkIGlzIHNlbGVjdGVkIik7Cn0KCi8vIEdyYW50IHJlY29yZCBwZXJtaXNzaW9uCmlmICghQXJyYXkuaXNBcnJheShzdGlja3lBcHAudmFycy5yZWNvcmRQZXJtaXNzaW9ucykpIHsKICAgIHN0aWNreUFwcC52YXJzLnJlY29yZFBlcm1pc3Npb25zID0gW107Cn0KCmlmICghc3RpY2t5QXBwLnZhcnMucmVjb3JkUGVybWlzc2lvbnMuaW5jbHVkZXMoc3RpY2t5UmVjb3JkKSkgewogICAgaWYgKGF3YWl0IG9zLmdyYW50SW5zdEFkbWluUGVybWlzc2lvbihzdGlja3lSZWNvcmQpKSB7CiAgICAgICAgc3RpY2t5QXBwLnZhcnMucmVjb3JkUGVybWlzc2lvbnMucHVzaChzdGlja3lSZWNvcmQpCiAgICB9Cn0KCi8vIFRyaW0gZGF0YQpjb25zdCBwYXlsb2FkID0gey4uLnRoaXNCb3QudGFnc307CmNvbnN0IHRhZ3NUb0RlbGV0ZSA9IHRhZ3MudW5zdG9yZWRUYWdzOwpmb3IgKHZhciB0IG9mIHRhZ3NUb0RlbGV0ZSkgewogICAgZGVsZXRlIHBheWxvYWRbdF07Cn0KCi8vIENoZWNrIGlmIGNoYW5nZWQKY29uc3QgaGFzaCA9IGNyeXB0by5oYXNoKCJzaGEyNTYiLCAiYmFzZTY0IiwgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpOwppZiAoaGFzaCA9PT0gdGFncy5sYXN0VXBkYXRlSGFzaCkgeyByZXR1cm4gfTsKdGFncy5sYXN0VXBkYXRlSGFzaCA9IGhhc2g7CgovLyBSZWNvcmQgZGVmaW5pdGlvbgpjb25zdCBzdGlja3lSZWNvcmROYW1lID0gc3RpY2t5UmVjb3JkOwpsZXQgYWRkcmVzcyA9IHRhZ3Muc3RpY2t5QWRkcmVzcwppZiAoIWFkZHJlc3MpIHsKICAgIGFkZHJlc3MgPSB0aGlzQm90LmlkICsgJy0nICsgbmV3IERhdGUoKS50b0lTT1N0cmluZygpOwogICAgdGFncy5zdGlja3lBZGRyZXNzID0gYWRkcmVzczsKfQoKLy8gVXBkYXRlIGluIHJlY29yZHMKY29uc3QgcmVzdWx0ID0gYXdhaXQgb3MucmVjb3JkRGF0YShzdGlja3lSZWNvcmQsIGFkZHJlc3MsIHBheWxvYWQpOwppZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgIGNvbnNvbGUubG9nKCJbc3RpY2tpZXNdIFtzdGlja2llc10gVXBkYXRlZCBzdGlja3kgbm90ZSEiKQogICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9Cn0gZWxzZSBpZiAocmVzdWx0LmVycm9yQ29kZSA9PT0gInJlY29yZF9ub3RfZm91bmQiKSB7CiAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBvcy5nZXRQdWJsaWNSZWNvcmRLZXkoc3RpY2t5UmVjb3JkKTsKICAgIGlmIChjcmVhdGVSZXN1bHQuc3VjY2VzcykgewogICAgICAgIHdoaXNwZXIodGhpc0JvdCwgJ2hhbmRsZVVwZGF0ZScpCiAgICB9Cn0gZWxzZSBpZiAocmVzdWx0LmVycm9yQ29kZSA9PT0gIm5vdF9hdXRob3JpemVkIikgewogICAgaWYgKGF3YWl0IG9zLmdyYW50SW5zdEFkbWluUGVybWlzc2lvbihzdGlja3lSZWNvcmQpKSB7CiAgICAgICAgd2hpc3Blcih0aGlzQm90LCAnaGFuZGxlVXBkYXRlJyk7CiAgICB9Cn0gZWxzZSB7CiAgICBvcy50b2FzdCgiRmFpbGVkIHRvIHVwZGF0ZSBzdGlja3kgbm90ZSIpOwogICAgY29uc29sZS5sb2coIltzdGlja2llc10gW3N0aWNraWVzXSBGYWlsZWQgdG8gdXBkYXRlIHN0aWNreSBub3RlOiIsIHJlc3VsdCkKICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH0KfQonAMrg78kF/UUNaW50ZXJydXB0U3luYwIEAMrg78kFs2FSQGlmICh0aGlzQm90LnZhcnMuY2FuY2VsVGltZW91dCkgewogICAgY2xlYXJUaW1lb3V0KHRoaXNCb3QudmFycy5jYW5jZWxUaW1lb3V0KTsKfScAyuDvyQX9RQpsYWJlbENvbG9yAgQAyuDvyQWGYgcjMDAwMDAwKADK4O/JBf1FDWxhYmVsUGFkZGluZ1gBez/OuFHrhR64KADK4O/JBf1FDWxhYmVsUGFkZGluZ1kBez++uFHrhR64KADK4O/JBf1FCWxpc3RlbmluZwF5JwDK4O/JBf1FD29uQW55Qm90Q2xpY2tlZAIEAMrg78kFkWKBAUBpZiAoCiAgICB0aGF0LmJvdC5pZCAhPT0gdGhpc0JvdC5pZCAmJgogICAgIShjb25maWdCb3QudGFncy5rZXlib2FyZF9TaGlmdCA9PT0gJ2hlbGQnKQopIHsKICAgIHdoaXNwZXIodGhpc0JvdCwgJ29uRGVzZWxlY3QnKTsKfScAyuDvyQX9RQxvbkJvdENoYW5nZWQCBADK4O/JBZNjugRALy8gRG9uJ3QgdHJhY2sgaWYgbm8gcmVjb3JkCmlmICghdGFncy5zdGlja3lSZWNvcmQpIHsgcmV0dXJuIH0KCi8vIERvbid0IHVwZGF0ZSBmb3IgbWFza3MKaWYgKG1hc2tzKSB7CiAgICBpZiAoT2JqZWN0LmtleXMobWFza3MpLnNvbWUobSA9PiB0aGF0LnRhZ3MuaW5kZXhPZihtKSA+PSAwKSkgewogICAgICAgIHJldHVybgogICAgfQp9CgovLyBEb24ndCB1cGRhdGUgdW5zdG9yZWQgdGFncwppZiAodGFncy51bnN0b3JlZFRhZ3Muc29tZShtID0+IHRoYXQudGFncy5pbmRleE9mKG0pID49IDApKSB7CiAgICByZXR1cm4KfQoKLy8gQ2xlYXIgcHJldmlvdXMgdGltZXIKaWYgKHRoaXNCb3QudmFycy5jYW5jZWxUaW1lb3V0KSB7CiAgICBjbGVhclRpbWVvdXQodGhpc0JvdC52YXJzLmNhbmNlbFRpbWVvdXQpOwp9CgovLyBTdGFydCA1cyB0aW1lciB0byB1cGRhdGUKdGhpc0JvdC52YXJzLmNhbmNlbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgIHRoaXNCb3QudmFycy5jYW5jZWxUaW1lb3V0ID0gbnVsbDsKICAgIHdoaXNwZXIodGhpc0JvdCwgImhhbmRsZVVwZGF0ZSIpOwp9LCA1MDAwKTsnAMrg78kF/UUHb25DbGljawIEAMrg78kFzmfIBEAvLyBGaXJzdCBjbGljawppZiAoIXRoaXNCb3QudmFycy5kb3VibGVDbGlja1RpbWVyKSB7CiAgICBpZiAobWFza3Muc2VsZWN0ZWQgJiYgIW1hc2tzLmp1c3RTZWxlY3RlZCkgewogICAgICAgIGNvbnN0IHNlbGVjdGVkQm90cyA9IGdldEJvdHMoInNlbGVjdGVkIik7CiAgICAgICAgaWYgKHNlbGVjdGVkQm90cy5sZW5ndGggPT09IDEgfHwgY29uZmlnQm90LnRhZ3Mua2V5Ym9hcmRfU2hpZnQpIHsKICAgICAgICAgICAgd2hpc3Blcih0aGlzQm90LCAib25EZXNlbGVjdCIpOwogICAgICAgIH0KICAgIH0KICAgIHRoaXNCb3QudmFycy5kb3VibGVDbGlja1RpbWVyID0gdHJ1ZTsKICAgIHRoaXNCb3QudmFycy5jbGlja1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzQm90LnZhcnMuZG91YmxlQ2xpY2tUaW1lciA9IG51bGw7CiAgICB9LCA1MDApOwoKICAgIHJldHVybjsKfQoKLy8gU2Vjb25kIGNsaWNrCmlmICghY29uZmlnQm90LnRhZ3Mua2V5Ym9hcmRfU2hpZnQpIHsKICAgIHdoaXNwZXIodGhpc0JvdCwgJ29uRGVzZWxlY3QnKTsKICAgIHNob3V0KCJzaG93Tm90ZUVkaXRvciIsIHRoaXNCb3QpOwp9JwDK4O/JBf1FCG9uQ3JlYXRlAgQAyuDvyQWXbJQCQHdoaXNwZXIodGhpc0JvdCwgJ2NoZWNrRm9yVUknKTsKCmNvbnN0IHN0aWNreURhdGEgPSB7Li4udGhpc0JvdC50YWdzfTsKY29uc3QgdW5zdG9yZWRUYWdzID0gdGFncy51bnN0b3JlZFRhZ3M7CmZvciAodmFyIHQgb2YgdW5zdG9yZWRUYWdzKSB7CiAgICBkZWxldGUgc3RpY2t5RGF0YVt0XTsKfQoKdGFncy5hYklnbm9yZSA9IHRydWU7Cgp0YWdzLmxhc3RVcGRhdGVIYXNoID0gY3J5cHRvLmhhc2goInNoYTI1NiIsICJiYXNlNjQiLCBKU09OLnN0cmluZ2lmeShzdGlja3lEYXRhKSk7JwDK4O/JBf1FCm9uRGVzZWxlY3QCBADK4O/JBaxulAFAbWFza3MuZm9ybU9wYWNpdHkgPSBudWxsOwptYXNrcy5zdGFydGluZ1ogPSBudWxsOwptYXNrcy5ob21lWiA9IG51bGw7Cm1hc2tzLnNlbGVjdGVkID0gbnVsbDsKbWFza3Muc3Ryb2tlQ29sb3IgPSAnY2xlYXInOwptYXNrcy5zdHJva2VXaWR0aCA9IG51bGw7JwDK4O/JBf1FCW9uRGVzdHJveQIEAMrg78kFwW+IAUBpZiAodGFncy5hdm9pZERlbGV0ZSkgcmV0dXJuOwoKY29uc3QgcmVzdWx0ID0gb3MuZXJhc2VEYXRhKHRhZ3Muc3RpY2t5UmVjb3JkLCB0YWdzLnN0aWNreUFkZHJlc3MpOwoKaWYgKCFyZXN1bHQuc3VjY2VzcykgewogICAgcmV0dXJuCn0nAMrg78kF/UUGb25EcmFnAgQAyuDvyQXKcKQFQG9zLmVuYWJsZUN1c3RvbURyYWdnaW5nKCk7CmxldCBzZWxlY3RlZEJvdHMgPSBbXTsKaWYgKG1hc2tzLmp1c3RTZWxlY3RlZCAmJiAhY29uZmlnQm90LnRhZ3Mua2V5Ym9hcmRfU2hpZnQpIHsKICAgIHNob3V0KCdvbkRlc2VsZWN0Jyk7CiAgICB3aGlzcGVyKHRoaXNCb3QsICdvblNlbGVjdCcpOwogICAgc2VsZWN0ZWRCb3RzLnB1c2godGhpc0JvdCk7Cn0gZWxzZSB7CiAgICBzZWxlY3RlZEJvdHMgPSBnZXRCb3RzKCJzZWxlY3RlZCIpOwp9Cgp0aGlzQm90LnZhcnMuc2VsZWN0ZWRCb3RzID0gc2VsZWN0ZWRCb3RzOwpzZXRUYWdNYXNrKHNlbGVjdGVkQm90cywgJ3BvaW50YWJsZScsIGZhbHNlKTsKCmNvbnN0IGRpbSA9IG9zLmdldEN1cnJlbnREaW1lbnNpb24oKTsKdGhpc0JvdC52YXJzLmRpbWVuc2lvbiA9IGRpbTsKCnRoaXNCb3QudmFycy5kcmFnU3RhcnQgPSB7eDogdGFnc1tgJHtkaW19WGBdID8/IDAsIHk6IHRhZ3NbYCR7ZGltfVlgXSA/PyAwfTsKCmNvbnN0IHN0YXJ0aW5nUG9pbnRzID0ge307CmZvciAodmFyIGIgb2Ygc2VsZWN0ZWRCb3RzKSB7CiAgICBzdGFydGluZ1BvaW50c1tiLmlkXSA9IHt4OiBiLnRhZ3NbYCR7ZGltfVhgXSA/PyAwLCB5OiBiLnRhZ3NbYCR7ZGltfVlgXSA/PyAwfQp9CnRoaXNCb3QudmFycy5zdGFydGluZ1BvaW50cyA9IHN0YXJ0aW5nUG9pbnRzOycAyuDvyQX9RQpvbkRyYWdnaW5nAgQAyuDvyQXvddgCQGNvbnN0IGRpbSA9IHRoaXNCb3QudmFycy5kaW1lbnNpb247CmNvbnN0IGRlbHRhWCA9IHRoYXQudG8ueCAtIHRoaXNCb3QudmFycy5kcmFnU3RhcnQueDsKY29uc3QgZGVsdGFZID0gdGhhdC50by55IC0gdGhpc0JvdC52YXJzLmRyYWdTdGFydC55OwoKZm9yICh2YXIgYiBvZiB0aGlzQm90LnZhcnMuc2VsZWN0ZWRCb3RzKSB7CiAgICBiLnRhZ3NbYCR7ZGltfVhgXSA9IE51bWJlcih0aGlzQm90LnZhcnMuc3RhcnRpbmdQb2ludHNbYi5pZF0ueCArIGRlbHRhWCk7CiAgICBiLnRhZ3NbYCR7ZGltfVlgXSA9IE51bWJlcih0aGlzQm90LnZhcnMuc3RhcnRpbmdQb2ludHNbYi5pZF0ueSArIGRlbHRhWSk7Cn0nAMrg78kF/UUGb25Ecm9wAgQAyuDvyQXIeP4BQHNldFRhZ01hc2sodGhpc0JvdC52YXJzLnNlbGVjdGVkQm90cywgJ3BvaW50YWJsZScsIG51bGwpOwp0aGlzQm90LnZhcnMuc2VsZWN0ZWRCb3RzID0gbnVsbDsKdGhpc0JvdC52YXJzLmRpbWVuc2lvbiA9IG51bGw7CnRoaXNCb3QudmFycy5zdGFydGluZ1BvaW50cyA9IG51bGw7CnRoaXNCb3QudmFycy5kcmFnU3RhcnQgPSBudWxsOwoKaWYgKG1hc2tzLmp1c3RTZWxlY3RlZCkgewogICAgd2hpc3Blcih0aGlzQm90LCAib25EZXNlbGVjdCIpCn0nAMrg78kF/UULb25EdXBsaWNhdGUCBADK4O/JBcd6uANAaWYgKHRhZ3Muc2VsZWN0ZWQpIHsKICAgIGNvbnN0IHBheWxvYWQgPSB7Li4udGFnc307CiAgICBkZWxldGUgcGF5bG9hZC5zdGlja3lBZGRyZXNzOwogICAgZGVsZXRlIHBheWxvYWRbYCR7b3MuZ2V0Q3VycmVudERpbWVuc2lvbigpfVpgXTsKICAgIGRlbGV0ZSBwYXlsb2FkLnN0cm9rZUNvbG9yOwogICAgZGVsZXRlIHBheWxvYWQuc3Ryb2tlV2lkdGg7CiAgICBkZWxldGUgcGF5bG9hZC5zZWxlY3RlZDsKCiAgICBwYXlsb2FkW2Ake29zLmdldEN1cnJlbnREaW1lbnNpb24oKX1YYF0gKz0gMTsKICAgIGNvbnN0IG5ld1N0aWNreSA9IGNyZWF0ZShwYXlsb2FkKTsKICAgIHdoaXNwZXIobmV3U3RpY2t5LCAnb25Qb2ludGVyRG93bicpOwogICAgd2hpc3BlcihuZXdTdGlja3ksICdvblNlbGVjdCcpOwogICAgd2hpc3BlcihuZXdTdGlja3ksICdoYW5kbGVVcGRhdGUnKTsKfScAyuDvyQX9RQtvbkdyaWRDbGljawIEAMrg78kFgH4gQHdoaXNwZXIodGhpc0JvdCwgJ29uRGVzZWxlY3QnKTsnAMrg78kF/UUJb25LZXlEb3duAgQAyuDvyQWhfscBQGlmIChjb25maWdCb3QudGFncy5rZXlib2FyZF9NZXRhID09PSAnaGVsZCcgfHwKICAgIGNvbmZpZ0JvdC50YWdzLmtleWJvYXJkX0NvbnRyb2wgPT09ICdoZWxkJwopIHsKICAgIC8vIER1cGxpY2F0ZQogICAgaWYgKHRoYXQua2V5cy5pbmNsdWRlcygnZCcpKSB7CiAgICAgICAgd2hpc3Blcih0aGlzQm90LCAnb25EdXBsaWNhdGUnKQogICAgfQp9CicAyuDvyQX9RQ1vblBvaW50ZXJEb3duAgQAyuDvyQXpf1pAaWYgKCFtYXNrcy5zZWxlY3RlZCkgewogICAgd2hpc3Blcih0aGlzQm90LCAib25TZWxlY3QiKTsKICAgIG1hc2tzLmp1c3RTZWxlY3RlZCA9IHRydWU7Cn0nAMrg78kF/UUOb25Qb2ludGVyRW50ZXICBADK4O/JBcSAATZAaWYgKCFtYXNrcy5zZWxlY3RlZCkgewogICAgbWFza3MuZm9ybU9wYWNpdHkgPSAwLjg1Cn0nAMrg78kF/UUNb25Qb2ludGVyRXhpdAIEAMrg78kF+4ABGUBtYXNrcy5mb3JtT3BhY2l0eSA9IG51bGwnAMrg78kF/UULb25Qb2ludGVyVXACBADK4O/JBZWBAUxAbWFza3MuanVzdFNlbGVjdGVkID0gbnVsbDsKaWYgKCFtYXNrcy5zZWxlY3RlZCkgewogICAgbWFza3MuaG9tZVogPSBudWxsOwp9JwDK4O/JBf1FCG9uU2VsZWN0AgQAyuDvyQXigQHHAUBtYXNrcy5zZWxlY3RlZCA9IHRydWU7Cm1hc2tzLmZvcm1PcGFjaXR5ID0gbnVsbDsKbWFza3Muc3Ryb2tlQ29sb3IgPSAiIzRiYjFkYiI7Cm1hc2tzLnN0cm9rZVdpZHRoID0gMjsKCmlmICghbWFza3Muc3RhcnRpbmdaKSBtYXNrcy5zdGFydGluZ1ogPSB0YWdzLmhvbWVaID8/IDA7Cm1hc2tzLmhvbWVaID0gbWFza3Muc3RhcnRpbmdaICsgMC4xNTsoAMrg78kF/UUGc2NhbGVYAXs/7MzMzMzMzSgAyuDvyQX9RQZzY2FsZVkBez/szMzMzMzNKADK4O/JBf1FBnNjYWxlWgF8PgAAACcAyuDvyQX9RQZzZWxlY3QCBADK4O/JBa2DAWZAbWFza3Muc2VsZWN0ZWQgPSB0cnVlOwptYXNrcy5mb3JtT3BhY2l0eSA9IG51bGw7Cm1hc2tzLnN0cm9rZUNvbG9yID0gIiM0YmIxZGIiCm1hc2tzLnN0cm9rZVdpZHRoID0gMjsoAMrg78kF/UUJc3RhcnRpbmdaAX0AKADK4O/JBf1FBnN0aWNreQF4JwDK4O/JBf1FBnN5c3RlbQIEAMrg78kFloQBFW15VG9vbGJveC50b29sLnN0aWNreSgAyuDvyQX9RQx1bnN0b3JlZFRhZ3MBdRt3CmFiSURPcmlnaW53C2F2b2lkRGVsZXRldwpjaGVja0ZvclVJdwdjcmVhdG9ydwxoYW5kbGVVcGRhdGV3DWludGVycnVwdFN5bmN3Dmxhc3RVcGRhdGVIYXNodw9vbkFueUJvdENsaWNrZWR3DG9uQm90Q2hhbmdlZHcHb25DbGlja3cIb25DcmVhdGV3Cm9uRGVzZWxlY3R3CW9uRGVzdHJveXcGb25EcmFndwpvbkRyYWdnaW5ndwZvbkRyb3B3C29uRHVwbGljYXRldwtvbkdyaWRDbGlja3cJb25LZXlEb3dudw1vblBvaW50ZXJEb3dudw5vblBvaW50ZXJFbnRlcncNb25Qb2ludGVyRXhpdHcLb25Qb2ludGVyVXB3CG9uU2VsZWN0dwtzdHJva2VDb2xvcncLc3Ryb2tlV2lkdGh3CHNlbGVjdGVkJwDK4O/JBf1FB3ZlcnNpb24CBADK4O/JBa2EAQMwLjInAMrg78kF/UUJYWJUb29sYm94AgQAyuDvyQWxhAEEdHJ1ZScAyuDvyQX9RQlhYlZlcnNpb24CBADK4O/JBbaEARQ5LjY1LjEuMTcyNTU2ODQ5MDI4MCcAyuDvyQX9RQhhYklnbm9yZQIEAMrg78kFy4QBBHRydWUA"}]}