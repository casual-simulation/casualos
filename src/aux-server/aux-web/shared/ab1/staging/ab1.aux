{"version":2,"updates":[{"id":0,"timestamp":1678497133836,"update":"AWfPzP3gDwAnAQRib3RzJDAyODM2NWE0LTAzNmYtNDFkMC05YWYxLTcxNWFkNGYyYWE3YQEnAM/M/eAPAAZzeXN0ZW0CBADPzP3gDwESYWItMS5jb3JlLnJlZ3VsYXRlJwDPzP3gDwAEZm9ybQIEAM/M/eAPFAdub3RoaW5nJwDPzP3gDwAHYWIxQ29yZQIEAM/M/eAPHAR0cnVlJwDPzP3gDwAMb25BbnlCb3REcmFnAgQAz8z94A8hlAFAaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZFNuYXBTdGF0ZSkKewogICAgb3MuYWRkRHJvcFNuYXAoImdyaWQiKTsKfQoKaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQm90U25hcFN0YXRlKQp7CiAgICBvcy5hZGREcm9wU25hcCgiZmFjZSIpOwp9JwDPzP3gDwAIcmVtZW1iZXICBADPzP3gD7YBKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAQRib3RzJDM0YzNjMjEwLTViZjEtNDljZi1iMTUxLWVlMmQwN2YwZTY3MwEnAM/M/eAP3QEGc3lzdGVtAgQAz8z94A/eARBhYi0xLmNvcmUuY3JlYXRlKADPzP3gD90BB2FiMUNvcmUBeCcAz8z94A/dAQRmb3JtAgQAz8z94A/wAQdub3RoaW5nJwDPzP3gD90BC2Rlc2NyaXB0aW9uAgQAz8z94A/4AT1Cb3QgdXNlZCB0byBjcmVhdGUvbWFuaWZlc3QgYm90cyBpbnRvIGFuIGFjdHVhbCBzY2VuZS9wb3J0YWwuJwDPzP3gD90BDWFiMUNyZWF0ZUJvdHMCBADPzP3gD7YCwAFALy9ORUVEIFRPIFVOREVSU1RBTkQgV0hBVCBUTyBETyBJRiBBTiBBUlJBWSBJUyBHSVZFTgpsZXQgYm90cyA9IHRoYXQ7Cgpmb3IgKGNvbnN0IHByb3BlcnR5IGluIHBhc3RlZERhdGEpIHsKICAgIGNvbnN0IG5ld0JvdCA9IHBhc3RlZERhdGFbcHJvcGVydHldOwogICAgCiAgICB2YXIgY3JlYXRlQm90ID0gY3JlYXRlKG5ld0JvdCk7Cn0nAQRib3RzJDY2NTdiODY1LWU5ODMtNDQwMS05ZmM5LWY1NDE4ZDE4YTdmNwEnAM/M/eAP9wMGc3lzdGVtAgQAz8z94A/4Aw9hYi0xLmNvcmUubGVhcm4nAM/M/eAP9wMFYWIxSUQCBADPzP3gD4gEBWxlYXJuJwDPzP3gD/cDBGZvcm0CBADPzP3gD44EB25vdGhpbmcnAM/M/eAP9wMHYWIxQm9vdAIEAM/M/eAPlgSxBUBsZXQgaW5zdE1vZGVDaGVjayA9IGF3YWl0IG9zLnZlcnNpb24oKS5wbGF5ZXJNb2RlOwpsZXQgaW5pdGlhbEJvb3QgPSBsaW5rcy5yZW1lbWJlci50YWdzLmluaXRpYWxCb290ID8gdHJ1ZSA6IGZhbHNlOwoKZ2xvYmFsVGhpcy5idWlsZGVyVmVyc2lvbiA9IGluc3RNb2RlQ2hlY2sgPT0gImJ1aWxkZXIiID8gdHJ1ZSA6IGZhbHNlOwpnbG9iYWxUaGlzLmFiMSA9IHRoaXNCb3Q7CgppZiAoaW5zdE1vZGVDaGVjayA9PSAiYnVpbGRlciIpCnsKICAgIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSA9IHRydWU7CgogICAgYXdhaXQgdGhpc0JvdC5hYjFBZGFwdCgiYWIxSW50ZXJmYWNlIik7CgogICAgaWYgKGluaXRpYWxCb290KQogICAgewogICAgICAgIGxpbmtzLm1hbmlmZXN0YXRpb24uYWIxTWFuaWZlc3RCb3Qoe2RpbWVuc2lvbjogY29uZmlnQm90LnRhZ3MuZ3JpZFBvcnRhbCwgcG9zaXRpb246e3g6MCx5OjB9fSk7CiAgICB9Cn0KCi8vVVVBQgovL2JvdC52YXJzCgovLyBpZiAoYXV0b0FCKQovLyB7Ci8vICAgICBsZXQgZWdnRGF0YSA9IGF3YWl0IGxpbmtzLnN0b3JlLmFiMVJldHJpZXZlUmVjb3JkKGF1dG9BQik7CgovLyAgICAgY29uc29sZS5sb2coZWdnRGF0YSk7Ci8vIH0KCmlmIChpbml0aWFsQm9vdCkKewogICAgbGlua3MucmVtZW1iZXIudGFncy5pbml0aWFsQm9vdCA9IGZhbHNlOwp9KADPzP3gD/cDB2FiMUNvcmUBeCcAz8z94A/3AwhhYjFBZGFwdAIEAM/M/eAPyQnyBUBjb25zdCBzeXN0ZW1JRCA9IHRoYXQ7CmNvbnN0IGJvb3RTdHJhcCA9IG9zLmdldEFCMUJvb3RzdHJhcFVSTCgpCmNvbnN0IHNraWxsRmlsZSA9IGJvb3RTdHJhcC5zbGljZSgwLCBib290U3RyYXAubGVuZ3RoLTcpICsgc3lzdGVtSUQgKyIuYXV4IjsKCnRyeQp7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdlYmhvb2soewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgdXJsOiBza2lsbEZpbGUKICAgIH0pOwoKICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgIGNvbnNvbGUubG9nKCdbYWIxIGJvb3RzdHJhcF0gQ291bGQgbm90IGRvd25sb2FkIHNraWxsLicpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB1cGRhdGVzID0gcmVzcG9uc2UuZGF0YS51cGRhdGVzOwogICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBvcy5nZXRJbnN0U3RhdGVGcm9tVXBkYXRlcyh1cGRhdGVzKTsKICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHN0YXRlKTsKICAgIAogICAgYXdhaXQgb3MuYXBwbHlVcGRhdGVzVG9JbnN0KHVwZGF0ZXMpOwoKICAgIHdoaXNwZXIoaWRzLCB0YWdOYW1lLCBjb25maWdCb3QudGFncy5pbnN0KTsKCiAgICAvL2FiMS5sb2coImFiLTEgYWRhcHQiKTsKICAgIGNvbnNvbGUubG9nKCJhYi0xIGFkYXB0Iik7CgogICAgcmV0dXJuIHRydWU7Cn0KY2F0Y2gKewogICAgY29uc29sZS5sb2coJ1thYjEgYm9vdHN0cmFwXSBDb3VsZCBub3QgZG93bmxvYWQgc2tpbGwuJyk7Cn0nAM/M/eAP9wMLZGVzY3JpcHRpb24CBADPzP3gD7wPUVRoaXMgc2tpbGwgaXMgZGVzaWduZWQgdG8gaGFuZGxlIGJvdGggcmVjb25maWd1cmF0aW9uIG9mIGFiLTEgYW5kIGluaXRpYWxpemF0aW9uLicAz8z94A/3AwpvbkJvdEFkZGVkAgQAz8z94A+OEElAY29uc29sZS5sb2coImFiLTEgU1RBUlQgVVAiKTsKCnNldFRpbWVvdXQoKCkgPT4gdGhpc0JvdC5hYjFCb290KCksIDUwMCk7JwDPzP3gD/cDCHJlbWVtYmVyAgQAz8z94A/YECjwn5SXZTUzODBhNmItOGI0ZC00YThiLThiMDQtNThlMWViMDNlNWU3JwDPzP3gD/cDA2xvZwIEAM/M/eAP/xCTAUBsZXQgdXBkYXRlZExvZ3M7CgppZiAoIXRhZ3MuYWIxTG9nKQp7CiAgICB1cGRhdGVkTG9ncyA9IHRoYXQ7Cn0KZWxzZQp7CiAgICB1cGRhdGVkTG9ncyA9IHRhZ3MuYWIxTG9nICsgIlxuIiArIHRoYXQ7Cn0KCm1hc2tzLmFiMUxvZyA9IHVwZGF0ZWRMb2dzOycAz8z94A/3Aw1tYW5pZmVzdGF0aW9uAgQAz8z94A+TEijwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwDPzP3gD/cDDWFiMUNyZWF0ZUhvc3QCBADPzP3gD7oS5QdAaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuaG9zdElEKQp7CiAgICBvcy50b2FzdCgiY29kZSBjb3BpZWQgdG8gY2xpcGJvYXJkIik7CgogICAgb3Muc2V0Q2xpcGJvYXJkKGxpbmtzLnJlbWVtYmVyLnRhZ3MuaG9zdElELnN1YnN0cmluZygwLDMpICsgIi0iICsgbGlua3MucmVtZW1iZXIudGFncy5ob3N0SUQuc3Vic3RyaW5nKDMpKTsKCiAgICByZXR1cm47Cn0KCmxldCBuZXdIb3N0SUQgPSB1dWlkKCkucmVwbGFjZUFsbCgiLSIsICIiKS5zdWJzdHJpbmcoMCw2KTsKbGV0IGRhdGUgPSBEYXRlVGltZS5ub3coKS50b01pbGxpcygpOwpsZXQgcmVjb3JkS2V5ID0gYXdhaXQgb3MuZ2V0RGF0YShsaW5rcy5yZW1lbWJlci50YWdzLmFiMVJlY29yZEtleSwgImIyMDdhNWU0LWQ1MzEtNDg0Zi1hMGQ2LTY2MjZiZWY1OTAxMyIsICJodHRwczovL3B1YmxpY29zLmxpbmsiKTsKbGV0IHJlY29yZERhdGEgPSBhd2FpdCBvcy5yZWNvcmREYXRhKHJlY29yZEtleS5kYXRhLCBuZXdIb3N0SUQsIHt1cmw6IGNvbmZpZ0JvdC50YWdzLnVybCwgZGF0ZTogZGF0ZX0sICJodHRwczovL3B1YmxpY29zLmxpbmsiKTsKCmlmIChyZWNvcmREYXRhLnN1Y2Nlc3MpCnsKICAgIGxpbmtzLnJlbWVtYmVyLnRhZ3MuaG9zdElEID0gbmV3SG9zdElELnN1YnN0cmluZygwLDMpICsgIi0iICsgbmV3SG9zdElELnN1YnN0cmluZygzKTsKCiAgICBvcy5zZXRDbGlwYm9hcmQobGlua3MucmVtZW1iZXIudGFncy5ob3N0SUQpOwoKICAgIHRoYXQudGFncy5sYWJlbCA9ICJqb2luIGNvZGU6ICIgKyBuZXdIb3N0SUQuc3Vic3RyaW5nKDAsMykgKyAiLSIgKyBuZXdIb3N0SUQuc3Vic3RyaW5nKDMpOwoKICAgIG9zLnRvYXN0KCJob3N0IGdlbmVyYXRlZCwgY29kZSBjb3BpZWQgdG8gY2xpcGJvYXJkOiAiICsgbmV3SG9zdElEKTsKfQplbHNlCnsKICAgIG9zLnRvYXN0KCJzb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2FpbiIpOwoKICAgIHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwp9JwDPzP3gD/cDC2FiMUpvaW5Ib3N0AgQAz8z94A+gGq4GQHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKbGV0IGpvaW5Db2RlID0gdGhhdC50ZXh0LnJlcGxhY2VBbGwoIi0iLCAiIik7CmxldCByZWNvcmRLZXkgPSBhd2FpdCBvcy5nZXREYXRhKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxUmVjb3JkS2V5LCAiYjIwN2E1ZTQtZDUzMS00ODRmLWEwZDYtNjYyNmJlZjU5MDEzIiwgImh0dHBzOi8vcHVibGljb3MubGluayIpOwpsZXQgZ2V0UmVjb3JkID0gYXdhaXQgb3MuZ2V0RGF0YShyZWNvcmRLZXkuZGF0YSwgam9pbkNvZGUsICJodHRwczovL3B1YmxpY29zLmxpbmsvIik7CgppZiAoZ2V0UmVjb3JkLnN1Y2Nlc3MpCnsKICAgIGxldCBkYXRlID0gRGF0ZVRpbWUubm93KCk7CiAgICBsZXQgY3JlYXRlRGF0ZSA9IERhdGVUaW1lLmZyb21NaWxsaXMoZ2V0UmVjb3JkLmRhdGEuZGF0ZSk7CiAgICBsZXQgZGlmZmVyZW5jZSA9IGRhdGUuZGlmZihjcmVhdGVEYXRlLCAiZGF5cyIpLnRvT2JqZWN0KCk7CgogICAgZGlmZmVyZW5jZSA9IE1hdGguZmxvb3IoZGlmZmVyZW5jZS5kYXlzKTsKCiAgICBpZiAoZGlmZmVyZW5jZSA8IDgpCiAgICB7CiAgICAgICAgb3MudG9hc3QoImpvaW5pbmcgaG9zdCBub3ciKTsKICAgIAogICAgICAgIG9zLmdvVG9VUkwoZ2V0UmVjb3JkLmRhdGEudXJsKTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBvcy50b2FzdCgiam9pbiBjb2RlIG91dCBvZiBkYXRlLCBwbGVhc2UgZ2VuZXJhdGUgYSBuZXcgam9pbiBjb2RlIik7CiAgICB9Cn0KZWxzZQp7CiAgICBvcy50b2FzdCgidW5hYmxlIHRvIGpvaW4sIHBsZWFzZSBjaGVjayBjb2RlIGFuZCB0cnkgYWdhaW4iKTsKfScBBGJvdHMkNzZhZjA0OTEtMzkxOS00OTg0LWFhODItMjJjNzQyZjQyNjNmAScAz8z94A/PIAZzeXN0ZW0CBADPzP3gD9AgD2FiLTEuY29yZS5zdG9yZSgAz8z94A/PIAdhYjFDb3JlAXgnAM/M/eAPzyAEZm9ybQIEAM/M/eAP4SAHbm90aGluZycAz8z94A/PIAtkZXNjcmlwdGlvbgIEAM/M/eAP6SBNVGhpcyBza2lsbCBpcyBtZWFudCB0byBiZSBhIGNvbmZpZ3VyYWJsZSBtZWFucyB0byBwdWxsIGRvd24gYW5kIHB1Ymxpc2ggZGF0YS4nAM/M/eAPzyARYWIxUmV0cmlldmVSZWNvcmQCBADPzP3gD7ch6QJAbGV0IHJlY29yZE5hbWUgPSB0aGF0LnJlY29yZE5hbWU7CmxldCByZWNvcmRLZXkgPSB0aGF0LnJlY29yZEtleSA/IHRoYXQucmVjb3JkS2V5IDogbGlua3MucmVtZW1iZXIudGFncy5hYjFSZWNvcmRLZXk7CmxldCByZWNvcmRFbmRwb2ludCA9IHRoYXQucmVjb3JkRW5kcG9pbnQgPyB0aGF0LnJlY29yZEVuZHBvaW50IDogImh0dHBzOi8vcHVibGljb3MubGluayI7CgppZiAoIXJlY29yZE5hbWUpCnsKICAgIHJldHVybiAibm8gcmVjb3JkIG5hbWUgc3VwcGxpZWQiOwp9CgpsZXQgZ2V0UmVjb3JkID0gYXdhaXQgb3MuZ2V0RGF0YShyZWNvcmRLZXksIHJlY29yZE5hbWUsIHJlY29yZEVuZHBvaW50KTsKCnJldHVybiBnZXRSZWNvcmQ7JwDPzP3gD88gD2FiMVJldHJpZXZlRmlsZQIEAM/M/eAPoSRsQGlmICghdGhhdC51cmwpCnsKICAgIHJldHVybiAibm8gZmlsZSB1cmwgc3VwcGxpZWQiOwp9CgpsZXQgZGF0YSA9IGF3YWl0IG9zLmdldEZpbGUodGhhdC51cmwpOwoKcmV0dXJuIGRhdGE7JwDPzP3gD88gEGFiMVB1Ymxpc2hSZWNvcmQCBADPzP3gD44liwNAbGV0IHJlY29yZERhdGEgPSB0aGF0LmRhdGE7CmxldCByZWNvcmROYW1lID0gdGhhdC5yZWNvcmROYW1lOwpsZXQgcmVjb3JkS2V5ID0gdGhhdC5yZWNvcmRLZXkgPyB0aGF0LnJlY29yZEtleSA6IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxUmVjb3JkS2V5OwpsZXQgcmVjb3JkRW5kcG9pbnQgPSB0aGF0LnJlY29yZEVuZHBvaW50ID8gdGhhdC5yZWNvcmRFbmRwb2ludCA6ICJodHRwczovL3B1YmxpY29zLmxpbmsiOwoKaWYgKCFyZWNvcmREYXRhKQp7CiAgICByZXR1cm4gIm5vIGRhdGEgc3VwcGxpZWQiOwp9CgpyZWNvcmREYXRhID0gYXdhaXQgb3MucmVjb3JkRGF0YShyZWNvcmRLZXksIHJlY29yZE5hbWUsIHJlY29yZERhdGEsIHJlY29yZEVuZHBvaW50KTsKCnJldHVybiByZWNvcmREYXRhOycAz8z94A/PIA5hYjFQdWJsaXNoRmlsZQIEAM/M/eAPmii4A0BsZXQgZmlsZSA9IHRoYXQuZmlsZTsKbGV0IGZpbGVOYW1lID0gdGhhdC5maWxlTmFtZTsKbGV0IG1pbWVUeXBlID0gdGhhdC5taW1lVHlwZTsKbGV0IHJlY29yZEtleSA9IHRoYXQucmVjb3JkS2V5ID8gdGhhdC5yZWNvcmRLZXkgOiBsaW5rcy5yZW1lbWJlci50YWdzLmFiMVJlY29yZEtleTsKbGV0IHJlY29yZEVuZHBvaW50ID0gdGhhdC5yZWNvcmRFbmRwb2ludCA/IHRoYXQucmVjb3JkRW5kcG9pbnQgOiAiaHR0cHM6Ly9wdWJsaWNvcy5saW5rIjsKCmlmICghZmlsZSkKewogICAgcmV0dXJuICJubyBmaWxlIHN1cHBsaWVkIjsKfQoKbGV0IGZpbGVVcGxvYWQgPSBhd2FpdCBvcy5yZWNvcmRGaWxlKHJlY29yZEtleSwgZmlsZSwge2Rlc2NyaXB0aW9uOiBmaWxlTmFtZSwgbWltZVR5cGU6IG1pbWVUeXBlfSwgcmVjb3JkRW5kcG9pbnQpOwoKcmV0dXJuIGZpbGVVcGxvYWQ7JwEEYm90cyRlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcBJwDPzP3gD9MrBnN5c3RlbQIEAM/M/eAP1CsSYWItMS5jb3JlLnJlbWVtYmVyJwDPzP3gD9MrBGZvcm0CBADPzP3gD+crB25vdGhpbmcoAM/M/eAP0ysHYWIxQ29yZQF4KADPzP3gD9MrDWFiMUF3YWtlU3RhdGUBeScAz8z94A/TKwtkZXNjcmlwdGlvbgIEAM/M/eAP8SsrVGhpcyBpcyBtZWFudCB0byBiZSB0aGUgbG9jYWwgc3RhdGUgaG9sZGVyLicAz8z94A/TKwxhYjFSZWNvcmRLZXkCBADPzP3gD50sLnZSSzEuWVdJdE1RPT0uTkhac1VHdG9ObUZHWTNGSmRqSlRNbXMxTkZscVVUMDknAM/M/eAP0ysSYWIxQWN0aXZlRGltZW5zaW9uAgQAz8z94A/MLARob21lJwDPzP3gD9MrDGFiMUJhc2VDb2xvcgIEAM/M/eAP0SwHIzkwOEJGQygAz8z94A/TKxBhYjFHcmlkU25hcFN0YXRlAXgoAM/M/eAP0ysPYWIxQm90U25hcFN0YXRlAXgnAM/M/eAP0ysOYWIxTWVudVJlZnJlc2gCBADPzP3gD9ssGEBjbGVhclRhZ01hc2tzKHRoaXNCb3QpOygAz8z94A/TKwtpbml0aWFsQm9vdAF4JwEEYm90cyRmODYwMjg3OC1jMmVmLTQ4YmQtODVhMC04ZDYzNTFlYjQxMjABJwDPzP3gD/UsBnN5c3RlbQIEAM/M/eAP9iwPYWItMS5jb3JlLmlucHV0JwDPzP3gD/UsBGZvcm0CBADPzP3gD4YtB25vdGhpbmcnAM/M/eAP9SwJb25LZXlEb3duAgQAz8z94A+OLT9AaWYgKHRoYXQua2V5cyA9PSAiYCIgJiYgYnVpbGRlclZlcnNpb24pCnsKICAgIG9zLnNob3dDaGF0KCk7Cn0nAM/M/eAP9SwGb25DaGF0AgQAz8z94A/OLcETQGlmICghYnVpbGRlclZlcnNpb24pCnsKICAgIHJldHVybjsKfQoKaWYgKHRoYXQubWVzc2FnZVswXSA9PSAiLiIpIAp7CiAgICBvcy5oaWRlQ2hhdCgpOwoKICAgIHN3aXRjaCAodGhhdC5tZXNzYWdlKQogICAgewogICAgICAgIGNhc2UgJy5kb3dubG9hZEFCMSc6CiAgICAgICAgICAgIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSA9IGZhbHNlOwoKICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBhd2FpdCBvcy5zaG93SW5wdXQoImdyb3VwIik7CgogICAgICAgICAgICBpZiAoZ3JvdXAgPT0gImFiMUNvcmUiKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsaW5rcy5yZW1lbWJlci50YWdzLmluaXRpYWxCb290ID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgYWIxR3JvdXAgPSBnZXRCb3RzKGdyb3VwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIG9zLmRvd25sb2FkQm90c0FzSW5pdGlhbHphdGlvblVwZGF0ZShhYjFHcm91cCwgZ3JvdXApOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAubG9hZFNraWxsYDoKICAgICAgICAgICAgbGV0IHNraWxsID0gYXdhaXQgb3Muc2hvd0lucHV0KCJza2lsbCIpOwoKICAgICAgICAgICAgbGlua3MubGVhcm4uYWIxQWRhcHQoc2tpbGwpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAuc3lzdGVtYDoKICAgICAgICAgICAgY29uZmlnQm90LnRhZ3Muc3lzdGVtUG9ydGFsID0gdHJ1ZTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgYC5zaGVldGA6CiAgICAgICAgICAgIGNvbmZpZ0JvdC50YWdzLnNoZWV0UG9ydGFsID0gIWNvbmZpZ0JvdC50YWdzLm1hcFBvcnRhbCA/IGNvbmZpZ0JvdC50YWdzLmdyaWRQb3J0YWwgOiBjb25maWdCb3QudGFncy5tYXBQb3J0YWw7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAubWVudVNoZWV0YDoKICAgICAgICAgICAgY29uZmlnQm90LnRhZ3Muc2hlZXRQb3J0YWwgPSBjb25maWdCb3QudGFncy5tZW51UG9ydGFsOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBgLmRvd25sb2FkYDoKICAgICAgICAgICAgb3MuZG93bmxvYWRCb3RzKGdldEJvdHMoInNwYWNlIiwgInNoYXJlZCIpLCAiYWIxQWxsIik7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAuc2xlZXBgOgogICAgICAgICAgICBjaGFuZ2VTdGF0ZShsaW5rcy5tYW5pZmVzdGF0aW9uLCAiQXNsZWVwIiwgImFiMU1hbmlmZXN0U3RhdGUiKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgYC4uYDoKICAgICAgICAgICAgY2hhbmdlU3RhdGUobGlua3MubWFuaWZlc3RhdGlvbiwgIkF3YWtlIiwgImFiMU1hbmlmZXN0U3RhdGUiKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJy5sb2cnOgogICAgICAgICAgICBpZiAoY29uZmlnQm90LnRhZ3MudGFnUG9ydGFsID09IGFiMS5pZCArICIuYWIxTG9nIikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29uZmlnQm90Lm1hc2tzLnRhZ1BvcnRhbCA9IG51bGw7CiAgICAgICAgICAgICAgICBjb25maWdCb3QubWFza3MudGFnUG9ydGFsU3BhY2UgPSBudWxsOwoKICAgICAgICAgICAgICAgIHRhZ1BvcnRhbEJvdC5tYXNrcy50YWdQb3J0YWxBbmNob3JQb2ludCA9IG51bGw7CgogICAgICAgICAgICAgICAgb3MuaGlkZUNoYXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbmZpZ0JvdC5tYXNrcy50YWdQb3J0YWwgPSBhYjEuaWQgKyAiLmFiMUxvZyI7CiAgICAgICAgICAgICAgICBjb25maWdCb3QubWFza3MudGFnUG9ydGFsU3BhY2UgPSAidGVtcExvY2FsIjsKCiAgICAgICAgICAgICAgICB0YWdQb3J0YWxCb3QubWFza3MudGFnUG9ydGFsQW5jaG9yUG9pbnQgPSAidG9wIjsKCiAgICAgICAgICAgICAgICBvcy5zaG93Q2hhdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJy5oaWRlTG9nJzoKICAgICAgICAgICAgY29uZmlnQm90Lm1hc2tzLnRhZ1BvcnRhbCA9IG51bGw7CiAgICAgICAgICAgIGNvbmZpZ0JvdC5tYXNrcy50YWdQb3J0YWxTcGFjZSA9IG51bGw7CgogICAgICAgICAgICB0YWdQb3J0YWxCb3QubWFza3MudGFnUG9ydGFsQW5jaG9yUG9pbnQgPSBudWxsOwoKICAgICAgICAgICAgb3MuaGlkZUNoYXQoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSB0aGF0Lm1lc3NhZ2U7CiAgICAgICAgICAgIGxldCBleGVjdXRhYmxlID0gbWVzc2FnZS5zbGljZSgxKTsKCiAgICAgICAgICAgIHRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBvcy5ydW4oZXhlY3V0YWJsZSk7ICAKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0KICAgIH0KfSgAz8z94A/1LAdhYjFDb3JlAXgnAM/M/eAP9SwLZGVzY3JpcHRpb24CBADPzP3gD5FBQlRoaXMgaXMgbWVhbnQgdG8gaGFuZGxlIGFueSBub25lIG1lbnUgcmVsYXRlZCBpbnB1dHMvaW50ZXJhY3Rpb25zLicAz8z94A/1LAxvbkZpbGVVcGxvYWQCBADPzP3gD9RBJUBpZiAoIWJ1aWxkZXJWZXJzaW9uKQp7CiAgICByZXR1cm47Cn0nAM/M/eAP9SwFbGVhcm4CBADPzP3gD/pBKPCflJc2NjU3Yjg2NS1lOTgzLTQ0MDEtOWZjOS1mNTQxOGQxOGE3ZjcnAM/M/eAP9SwIcmVtZW1iZXICBADPzP3gD6FCKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAM/M/eAP9SwNbWFuaWZlc3RhdGlvbgIEAM/M/eAPyEIo8J+Ul2RjYTVkOTg3LWM0ZDgtNDZlNC1iNjBjLWRhYTdiMmY0ZGRhZAA="}]}