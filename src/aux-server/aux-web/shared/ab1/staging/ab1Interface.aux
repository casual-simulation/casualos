{"version":2,"updates":[{"id":0,"timestamp":1678732111879,"update":"ATzKgcKiDAAnAQRib3RzJGIzMGM2YzVkLWE0ZjctNDI2Ni1iYTM4LTM5M2RjOTVlMWVjYgEnAMqBwqIMAAZzeXN0ZW0CBADKgcKiDAETYWItMS5pbnRlcmZhY2UubWVudScAyoHCogwABGZvcm0CBADKgcKiDBUHbm90aGluZycAyoHCogwAC2Rlc2NyaXB0aW9uAgQAyoHCogwdJlRoaXMgc2tpbGwgaXMgZGVzaWduZWQgZm9yIG1lbnUgc3R1ZmYuKADKgcKiDAAMYWIxSW50ZXJmYWNlAXgnAMqBwqIMAAthYjFPcGVuTWVudQIEAMqBwqIMReoJQGNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gImFiMU1lbnUiOwoKbGV0IG1lbnVUeXBlID0gdGhhdCA/ICJhYjEiICsgdGhhdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoYXQuc2xpY2UoMSkgKyAiTWVudSI6ICJhYjFDb3JlTWVudSI7IC8vc2V0IHVwIGEgY2hlY2sgdG8gc2VlIHdoYXQgdHlwZSBvZiBtZW51IHNob3VsZCBiZSBvY2N1cmluZyBbY29yZSwgYm90LCBncmlkLCBpbnN0XQpsZXQgbWVudVNraWxscyA9IGdldEJvdHMobWVudVR5cGUgKyAiQWN0aW9uIik7CmxldCBtYXhPcHRpb25zID0gbWVudVR5cGUgPT0gImluc3QiID8gNyA6IDU7CmxldCBhYjFNZW51QnV0dG9uID0ge307CgphYjFNZW51QnV0dG9uLmFiMU1lbnUgPSB0cnVlOwphYjFNZW51QnV0dG9uLmFiMU1lbnVSZWZyZXNoID0gIkAgZGVzdHJveSh0aGlzQm90KTsiOwphYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBsaW5rcy5iYXNlU2tpbGwuJHttZW51VHlwZSArICJBY3Rpb24ifSgpO2A7Cgpmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVTa2lsbHMubGVuZ3RoOyBpKyspLy9BREQgTE9HSUMgRk9SIE1PUkUgT1BUSU9OUyBUSEFOIDUgOiBtYXhPcHRpb25zCnsKICAgIGxldCBjdXJyZW50U2tpbGwgPSBtZW51U2tpbGxzW2ldOwoKICAgIGFiMU1lbnVCdXR0b24uYmFzZVNraWxsID0gIvCflJciICsgY3VycmVudFNraWxsLmlkOwogICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIkxhYmVsIl07CiAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gY3VycmVudFNraWxsLnRhZ3NbbWVudVR5cGUgKyAiSWNvbiJdOwogICAgYWIxTWVudUJ1dHRvbi5vbkNyZWF0ZSA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIk9uR2VuZXJhdGUiXTsKICAgIGFiMU1lbnVCdXR0b24uYWIxTWVudVNvcnRPcmRlciA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIlNvcnRPcmRlciJdOwogICAgYWIxTWVudUJ1dHRvbi5jb2xvciA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIkNvbG9yIl0gPyBjdXJyZW50U2tpbGwudGFnc1ttZW51VHlwZSArICJDb2xvciJdIDogbGlua3MucmVtZW1iZXIudGFncy5hYjFCYXNlQ29sb3I7CgogICAgdGhpc0JvdC5hYjFDcmVhdGVNZW51QnV0dG9uKGFiMU1lbnVCdXR0b24pOwp9Cgp0aGlzQm90Lm1hc2tzLm9uR3JpZENsaWNrID0gIkAgc2hvdXQoJ2FiMU1lbnVSZWZyZXNoJyk7IGxpbmtzLm1hbmlmZXN0YXRpb24uYWIxQ2xpY2soKTsiOycAyoHCogwAE2FiMUNyZWF0ZU1lbnVCdXR0b24CBADKgcKiDK4KlgNAbGV0IGFkZGl0aW9uYWxUYWdzID0gdGhhdDsKbGV0IG5ld01lbnVCdXR0b24gPSB7fTsKCm5ld01lbnVCdXR0b24uc3BhY2UgPSAidGVtcExvY2FsIjsKbmV3TWVudUJ1dHRvbi5jb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQmFzZUNvbG9yOwpuZXdNZW51QnV0dG9uLmxhYmVsQWxpZ25tZW50ID0gImxlZnQiOwpuZXdNZW51QnV0dG9uLm1lbnVJdGVtU3R5bGUgPSB7ICJib3JkZXItcmFkaXVzIjoiOHB4IiwgIm1hcmdpbi10b3AiOiIzcHgifTsKCmZvciAoY29uc3QgdGFnIGluIGFkZGl0aW9uYWxUYWdzKQp7CiAgICBuZXdNZW51QnV0dG9uW3RhZ10gPSBhZGRpdGlvbmFsVGFnc1t0YWddOwp9CgpuZXdNZW51QnV0dG9uID0gY3JlYXRlKG5ld01lbnVCdXR0b24pOwoKcmV0dXJuIG5ld01lbnVCdXR0b247JwDKgcKiDAAOYWIxTWVudVJlZnJlc2gCBADKgcKiDMUNPkBjb25maWdCb3QubWFza3MubWVudVBvcnRhbCA9IG51bGw7CgptYXNrcy5vbkdyaWRDbGljayA9IG51bGw7JwDKgcKiDAAIcmVtZW1iZXICBADKgcKiDIQOKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAMqBwqIMAA1tYW5pZmVzdGF0aW9uAgQAyoHCogyrDijwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwDKgcKiDAASYWIxRW52aXJvbm1lbnRNZW51AgQAyoHCogzSDsApQHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKY29uZmlnQm90Lm1hc2tzLm1lbnVQb3J0YWwgPSAiYWIxTWVudSI7CgpsZXQgYWIxTWVudUJ1dHRvbiA9IHt9OwoKYWIxTWVudUJ1dHRvbi5hYjFNZW51ID0gdHJ1ZTsKYWIxTWVudUJ1dHRvbi5hYjFNZW51UmVmcmVzaCA9ICJAIGRlc3Ryb3kodGhpc0JvdCk7IjsKYWIxTWVudUJ1dHRvbi5tYW5pZmVzdGF0aW9uID0gdGFncy5tYW5pZmVzdGF0aW9uOwphYjFNZW51QnV0dG9uLnJlbWVtYmVyID0gdGFncy5yZW1lbWJlcjsKYWIxTWVudUJ1dHRvbi5sZWFybiA9IHRhZ3MubGVhcm47Cgpmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspCnsKICAgIHN3aXRjaCAoaSkKICAgIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiaGlkZSI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAidmlzaWJpbGl0eV9vZmYiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBkZXN0cm95KGxpbmtzLm1hbmlmZXN0YXRpb24ubGlua3MuYWIxQm90KTsKICAgICAgICAgICAgbGlua3MubWFuaWZlc3RhdGlvbi5tYXNrcy5hYjFCb3QgPSBudWxsOwogICAgICAgICAgICBgOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmxhYmVsID0gImNvbG9yIjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJwYWxldHRlIjsKICAgICAgICAgICAgLy9URVNUPwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBvcy5zaG93SW5wdXRGb3JUYWcobGlua3MucmVtZW1iZXIsICJhYjFCYXNlQ29sb3IiLCB7CiAgICAgICAgICAgIHR5cGU6ICdjb2xvcicsCiAgICAgICAgICAgIHRpdGxlOiAncGljayBhIGNvbG9yJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRlc3Ryb3kobGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYjFCb3QpOwogICAgICAgICAgICBsaW5rcy5tYW5pZmVzdGF0aW9uLm1hc2tzLmFiMUJvdCA9IG51bGw7CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAic2xlZXAiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gIm5pZ2h0c19zdGF5IjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5vbkNsaWNrID0gYEBkZXN0cm95KGxpbmtzLm1hbmlmZXN0YXRpb24ubGlua3MuYWIxQm90KTsKCiAgICAgICAgICAgIGxpbmtzLm1hbmlmZXN0YXRpb24ubWFza3MuYWIxQm90ID0gbnVsbDsKICAgICAgICAgICAgbGlua3MucmVtZW1iZXIudGFncy5hYjFBd2FrZVN0YXRlID0gZmFsc2U7CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIC8vIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiY29sbGFiIHBvdiI7CiAgICAgICAgICAgIC8vIC8vQ0hFQ0sgRk9SIElDT04KICAgICAgICAgICAgLy8gYWIxTWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJ2aXNpYmlsaXR5X29mZiI7CiAgICAgICAgICAgIC8vIGFiMU1lbnVCdXR0b24ub25DbGljayA9ICJAIG9zLnRvYXN0KCd3b3JrIGluIHByb2dyZXNzJykiOwoKICAgICAgICAgICAgaWYgKGdldEJvdCgicmN4ciIpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJlbmFibGUgQVIvVlIgc3VwcG9ydCI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAidmlld19pbl9hciI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAidmlzaWJpbGl0eV9vZmYiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSAiQCBzaG91dCgnYWIxQWRhcHQnLCAncmN4cicpOyBzaG91dCgnYWIxTWVudVJlZnJlc2gnKTsiOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmxhYmVsID0gImNoYXQiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImNoYXQiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBvcy5zaG93Q2hhdCgpO2A7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAic3lzdGVtUG9ydGFsPXRydWUiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gInNldHRpbmdzX2FwcGxpY2F0aW9ucyI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ub25DbGljayA9IGBAIGNvbmZpZ0JvdC50YWdzLnN5c3RlbVBvcnRhbCA9IHRydWU7YDsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgLy8gYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJudWdnZXRzIjsKICAgICAgICAgICAgLy8gLy9DSEVDSyBGT1IgSUNPTgogICAgICAgICAgICAvLyBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImNoZWNrX2JveCI7CiAgICAgICAgICAgIC8vIGFiMU1lbnVCdXR0b24ub25DbGljayA9ICJAIG9zLnRvYXN0KCd3b3JrIGluIHByb2dyZXNzJykiOwoKICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiZ3JpZCBzbmFwIjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZFNuYXBTdGF0ZSA/ICJjaGVja19ib3giIDogImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rIjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5vbkNsaWNrID0gYEAgbGlua3MucmVtZW1iZXIudGFncy5hYjFHcmlkU25hcFN0YXRlID0gIWxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZFNuYXBTdGF0ZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRhZ3MuZm9ybUFkZHJlc3MgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUdyaWRTbmFwU3RhdGUgPyAiY2hlY2tfYm94IiA6ICJjaGVja19ib3hfb3V0bGluZV9ibGFuayI7CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiYm90IHNuYXAiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gbGlua3MucmVtZW1iZXIudGFncy5hYjFCb3RTbmFwU3RhdGUgPyAiY2hlY2tfYm94IiA6ICJjaGVja19ib3hfb3V0bGluZV9ibGFuayI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ub25DbGljayA9IGBAIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQm90U25hcFN0YXRlID0gIWxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQm90U25hcFN0YXRlOwogICAgICAgICAgICAKICAgICAgICAgICAgdGFncy5mb3JtQWRkcmVzcyA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQm90U25hcFN0YXRlID8gImNoZWNrX2JveCIgOiAiY2hlY2tfYm94X291dGxpbmVfYmxhbmsiOwogICAgICAgICAgICBgOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImdyb3VwX2FkZCI7CgogICAgICAgICAgICBpZiAobGlua3MucmVtZW1iZXIudGFncy5ob3N0SUQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiam9pbiBjb2RlOiAiICsgbGlua3MucmVtZW1iZXIudGFncy5ob3N0SUQuc3Vic3RyaW5nKDAsMykgKyAiLSIgKyBsaW5rcy5yZW1lbWJlci50YWdzLmhvc3RJRC5zdWJzdHJpbmcoMyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBhYjFNZW51QnV0dG9uLmxhYmVsID0gImdlbmVyYXRlIGpvaW4gY29kZSI7CiAgICAgICAgICAgIH0gCgogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBsaW5rcy5sZWFybi5hYjFDcmVhdGVIb3N0KHRoaXNCb3QpOwoKICAgICAgICAgICAgdGFncy5sYWJlbCA9ICdnZW5lcmF0aW5nIGNvZGUgbm93JztgOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJlbnRlciBqb2luIGNvZGUiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm0gPSAiaW5wdXQiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBudWxsOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uU3VibWl0ID0gYEAgbGlua3MubGVhcm4uYWIxSm9pbkhvc3QodGhhdCk7YDsKCiAgICAgICAgICAgIGJyZWFrOyAgCiAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgLy9VUERBVEUgTEFCRUwKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJkZWxldGUiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImRlbGV0ZV9mb3JldmVyIjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5jb2xvciA9ICIjZjI0NzI3IjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5vbkNsaWNrID0gYEAgbGV0IGFsbEJvdHMgPSBnZXRCb3RzKCJzcGFjZSIsICJzaGFyZWQiKTsKCiAgICAgICAgICAgIGRlc3Ryb3kobGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYjFCb3QpOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxCb3RzLmxlbmd0aDsgaSsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoYWxsQm90c1tpXS50YWdzLnN5c3RlbSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYWxsQm90c1tpXS50YWdzLnN5c3RlbS5pbmNsdWRlcygiYWItMSIpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJveShhbGxCb3RzW2ldKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYDsKCiAgICAgICAgICAgIGJyZWFrOyAgICAgICAgICAKICAgIH0KCiAgICBhYjFNZW51QnV0dG9uLmFiMU1lbnVTb3J0T3JkZXIgPSBpOwoKICAgIHRoaXNCb3QuYWIxQ3JlYXRlTWVudUJ1dHRvbihhYjFNZW51QnV0dG9uKTsKfQoKdGhpc0JvdC5tYXNrcy5vbkdyaWRDbGljayA9ICJAIHNob3V0KCdhYjFNZW51UmVmcmVzaCcpOyBsaW5rcy5tYW5pZmVzdGF0aW9uLmFiMUNsaWNrKCk7IjsnAMqBwqIMAAVsZWFybgIEAMqBwqIMkzgo8J+UlzY2NTdiODY1LWU5ODMtNDQwMS05ZmM5LWY1NDE4ZDE4YTdmNycBBGJvdHMkZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkAScAyoHCogy6OAZzeXN0ZW0CBADKgcKiDLs4HGFiLTEuaW50ZXJmYWNlLm1hbmlmZXN0YXRpb24nAMqBwqIMujgEZm9ybQIEAMqBwqIM2DgHbm90aGluZygAyoHCogy6OAxhYjFJbnRlcmZhY2UBeCcAyoHCogy6OAtkZXNjcmlwdGlvbgIEAMqBwqIM4Tg6VGhpcyBza2lsbCBjb250cm9scyB0aGUgYWN0dWFsIGJvdCBmb3IgdGhlIGFiLTEgaW50ZXJmYWNlLicAyoHCogy6OApvbkJvdEFkZGVkAgQAyoHCogycOZABQC8vTU9WRSBUTyBXSEVOIE1FTlUgSVMgT1BFTkVEIEZPUiBGSVJTVCBUSU1FPz8/ICBPUiBXSEVOIFNVTU1PTkVEPwpsaW5rcy5sZWFybi5hYjFBZGFwdCgiYWIxQWN0aW9uIik7CgpsaW5rcy5sZWFybi5hYjFBZGFwdCgiYWIxRXhwZXJpbWVudGFsIik7JwDKgcKiDLo4BWxlYXJuAgQAyoHCogytOijwn5SXNjY1N2I4NjUtZTk4My00NDAxLTlmYzktZjU0MThkMThhN2Y3JwDKgcKiDLo4D29uUG9ydGFsQ2hhbmdlZAIEAMqBwqIM1DqoBUBpZiAoIWxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSkKewogICAgcmV0dXJuOwp9CgpsZXQgcG9ydGFsQXJyYXkgPSBbIm1pbmlHcmlkUG9ydGFsIiwgImdyaWRQb3J0YWwiLCAibWFwUG9ydGFsIiwgIm1pbmlNYXBQb3J0YWwiLCAibGVmdFdyaXN0UG9ydGFsIiwgInJpZ2h0V3Jpc3RQb3J0YWwiXTsKCmlmIChwb3J0YWxBcnJheS5pbmRleE9mKHRoYXQucG9ydGFsKSAhPSAtMSAmJiB0aGF0LmRpbWVuc2lvbikKewogICAgdGhpc0JvdC5hYjFNYW5pZmVzdEJvdCh7ZGltZW5zaW9uOiB0aGF0LmRpbWVuc2lvbiwgcG9zaXRpb246e3g6MCx5OjB9fSk7Cn0KZWxzZSBpZiAocG9ydGFsQXJyYXkuaW5kZXhPZih0aGF0LnBvcnRhbCkgPT0gLTEgJiYgIXRoYXQuZGltZW5zaW9uICYmIHRoYXQucG9ydGFsICE9ICJtZW51UG9ydGFsIikKewogICAgbGV0IHN1bW1vbkRpbWVuc2lvbiA9IGNvbmZpZ0JvdC50YWdzLm1hcFBvcnRhbCA/IGNvbmZpZ0JvdC50YWdzLm1hcFBvcnRhbCA6IGNvbmZpZ0JvdC50YWdzLmdyaWRQb3J0YWw7CgogICAgdGhpc0JvdC5hYjFNYW5pZmVzdEJvdCh7ZGltZW5zaW9uOiBzdW1tb25EaW1lbnNpb24sIHBvc2l0aW9uOnt4OjAseTowfX0pOwp9CmVsc2UgaWYgKHRoYXQucG9ydGFsICE9ICJtZW51UG9ydGFsIikKewogICAgZGVzdHJveShsaW5rcy5hYjFCb3QpOwp9JwDKgcKiDLo4CHJlbWVtYmVyAgQAyoHCogz9Pyjwn5SXZTUzODBhNmItOGI0ZC00YThiLThiMDQtNThlMWViMDNlNWU3JwDKgcKiDLo4DmFiMU1hbmlmZXN0Qm90AgQAyoHCogykQJgJQGlmICh0YWdzLmFiMUJvdCkKewogICAgZGVzdHJveShsaW5rcy5hYjFCb3QpOwp9CgpsZXQgYWIxID0ge307CgphYjEuc3BhY2UgPSAidGVtcExvY2FsIjsKYWIxLmNvbG9yID0gImNsZWFyIjsKYWIxLm9uQ2xpY2sgPSAiQCBsaW5rcy5tYW5hZ2VyLmFiMUNsaWNrKCk7IjsKYWIxLmRpbWVuc2lvbiA9IHRoYXQuZGltZW5zaW9uOwphYjFbdGhhdC5kaW1lbnNpb25dID0gdHJ1ZTsKYWIxW3RoYXQuZGltZW5zaW9uICsgIlgiXSA9IHRoYXQucG9zaXRpb24ueDsKYWIxW3RoYXQuZGltZW5zaW9uICsgIlkiXSA9IHRoYXQucG9zaXRpb24ueTsKYWIxLnN0cm9rZUNvbG9yID0gbGlua3MucmVtZW1iZXIudGFncy5hYjFCYXNlQ29sb3I7CmFiMS5saW5lQ29sb3IgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUJhc2VDb2xvcjsKYWIxLm1hbmFnZXIgPSAi8J+UlyIgKyB0aGlzQm90LmlkOwphYjEuYW5pbWF0ZUJvdCA9IGBAIGNvbnN0IHJvdFogPSB0YWdzLmRpbWVuc2lvbiArICJSb3RhdGlvbloiOwpsZXQgdGFyZ2V0U2NhbGUgPSAwLjY1OwoKaWYgKHRhZ3Muc2NhbGUgPD0gMC42NTEpCnsKICAgIHRhcmdldFNjYWxlID0gMC45NTsKfQoKYXdhaXQgYW5pbWF0ZVRhZyh0aGlzQm90LAp7CiAgICBmcm9tVmFsdWU6IHsKICAgICAgICBbcm90Wl06IDAsCiAgICAgICAgc2NhbGU6IHRhZ3Muc2NhbGUKICAgIH0sCiAgICB0b1ZhbHVlOiB7CiAgICAgICAgW3JvdFpdOiAzLjE1LC8vNi4zLAogICAgICAgIHNjYWxlOiB0YXJnZXRTY2FsZQogICAgfSwKICAgIGVhc2luZzogewogICAgICAgIHR5cGU6ICJzaW51c29pZGFsIiwKICAgICAgICBtb2RlOiAiaW5vdXQiCiAgICB9LAogICAgZHVyYXRpb246IDIKfSkuY2F0Y2goZSA9PiB7fSk7CmA7CmFiMS5vbkNyZWF0ZSA9IGBAIHRoaXNCb3QuYW5pbWF0ZUJvdCgpOwoKbWFza3MuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzQm90LmFuaW1hdGVCb3QoKSwgMjAwMCk7CmA7CmFiMS5vbkRlc3Ryb3kgPSBgQApjbGVhckludGVydmFsKHRhZ3MuaW50ZXJ2YWwpOwoKc2hvdXQoImFiMU1lbnVSZWZyZXNoIik7CmA7CmFiMS5kcmFnZ2FibGUgPSBmYWxzZTsKYWIxLnNjYWxlID0gMC45OwoKbGV0IGFiMU1hbmlmZXN0ZWQgPSBhd2FpdCBjcmVhdGUoYWIxKTsKCm1hc2tzLmFiMUJvdCA9ICLwn5SXIiArIGFiMU1hbmlmZXN0ZWQuaWQ7JwDKgcKiDLo4EGFiMU1hbmlmZXN0U3RhdGUCBADKgcKiDLlJBUF3YWtlJwDKgcKiDLo4HWFiMU1hbmlmZXN0U3RhdGVBc2xlZXBPbkVudGVyAgQAyoHCogy/SVlAZGVzdHJveShsaW5rcy5hYjFCb3QpOwoKbWFza3MuYWIxQm90ID0gbnVsbDsKCmxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSA9IGZhbHNlOycAyoHCogy6OAtvbkdyaWRDbGljawIEAMqBwqIMmUqKCEBpZiAoIWxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSkKewogICAgcmV0dXJuOwp9CgpzaG91dCgiYWIxTWVudVJlZnJlc2giKTsKCmxldCBmb290cHJpbnQgPSB7fTsKCmZvb3RwcmludC5zcGFjZSA9ICJ0ZW1wTG9jYWwiOwpmb290cHJpbnRbdGhhdC5kaW1lbnNpb25dID0gdHJ1ZTsKZm9vdHByaW50LmRpbWVuc2lvbiA9IHRoYXQuZGltZW5zaW9uOwpmb290cHJpbnRbdGhhdC5kaW1lbnNpb24gKyAiWCJdID0gdGhhdC5wb3NpdGlvbi54Owpmb290cHJpbnRbdGhhdC5kaW1lbnNpb24gKyAiWSJdID0gdGhhdC5wb3NpdGlvbi55Owpmb290cHJpbnQuc2NhbGVaID0gMC4wMTsKZm9vdHByaW50Lm9uQ2xpY2sgPSBgQCB0YWdzW3RhZ3MuZGltZW5zaW9uXSA9IGZhbHNlOwoKbGlua3MubWFuYWdlci5hYjFNYW5pZmVzdEJvdCh0YWdzLnBvc2l0aW9uSW5mbyk7CmA7CmZvb3RwcmludC5wb3NpdGlvbkluZm8gPSB0aGF0Owpmb290cHJpbnQuY29sb3IgPSAiY2xlYXIiOwpmb290cHJpbnQuc3Ryb2tlQ29sb3IgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUJhc2VDb2xvcjsKZm9vdHByaW50LmRyYWdnYWJsZSA9IGZhbHNlOwpmb290cHJpbnQubWFuYWdlciA9ICLwn5SXIiArIHRoaXNCb3QuaWQ7CmZvb3RwcmludC5vbkNyZWF0ZSA9IGBAIHNldFRpbWVvdXQoKCkgPT4gZGVzdHJveSh0aGlzQm90KSwgODAwKTsKCiAgICBhd2FpdCBhbmltYXRlVGFnKHRoaXNCb3QsIHsKICAgICAgICBmcm9tVmFsdWU6IHsKICAgICAgICAgICAgc2NhbGVYOiAwLjEsCiAgICAgICAgICAgIHNjYWxlWTogMC4xCiAgICAgICAgfSwKICAgICAgICB0b1ZhbHVlOiB7CiAgICAgICAgICAgIHNjYWxlWDogMS4xLAogICAgICAgICAgICBzY2FsZVk6IDEuMQogICAgICAgIH0sCiAgICAgICAgZHVyYXRpb246IDAuNSwKICAgICAgICBlYXNpbmc6IHsKICAgICAgICAgICAgdHlwZTogImVsYXN0aWMiLAogICAgICAgICAgICBtb2RlOiAib3V0IgogICAgICAgIH0KICAgIH0pLmNhdGNoKGUgPT4ge30pOwpgOwoKY3JlYXRlKGZvb3RwcmludCk7JwDKgcKiDLo4BG1lbnUCBADKgcKiDKJSKPCflJdiMzBjNmM1ZC1hNGY3LTQyNjYtYmEzOC0zOTNkYzk1ZTFlY2InAMqBwqIMujgIYWIxQ2xpY2sCBADKgcKiDMlS2AhAY29uc3QgbWVudVR5cGUgPSB0aGF0ID8gdGhhdC5tZW51IDogImNvcmUiOwpjb25zdCBzdGF0ZSA9IG9zLmdldElucHV0U3RhdGUoImtleWJvYXJkIiwgIlNoaWZ0Iik7CgppZiAobGlua3MuYWIxQm90LnRhZ3MuaW50ZXJ2YWwgfHwgc3RhdGUpCnsKICAgIGNsZWFySW50ZXJ2YWwobGlua3MuYWIxQm90LnRhZ3MuaW50ZXJ2YWwpOwoKICAgIGxpbmtzLmFiMUJvdC5tYXNrcy5pbnRlcnZhbCA9IG51bGw7CgogICAgY2xlYXJBbmltYXRpb25zKGxpbmtzLmFiMUJvdCk7CgogICAgY29uc3Qgcm90WiA9IGxpbmtzLmFiMUJvdC50YWdzLmRpbWVuc2lvbiArICJSb3RhdGlvbloiOwoKICAgIGlmIChzdGF0ZSkKICAgIHsKICAgICAgICBsaW5rcy5tZW51LmFiMUVudmlyb25tZW50TWVudSgpOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGxpbmtzLm1lbnUuYWIxT3Blbk1lbnUobWVudVR5cGUpOwogICAgfQoKICAgIGF3YWl0IGFuaW1hdGVUYWcobGlua3MuYWIxQm90LAogICAgewogICAgICAgIGZyb21WYWx1ZTogewogICAgICAgICAgICBbcm90Wl06IGxpbmtzLmFiMUJvdC50YWdzW3JvdFpdLAogICAgICAgICAgICBzY2FsZTogbGlua3MuYWIxQm90LnRhZ3Muc2NhbGUKICAgICAgICB9LAogICAgICAgIHRvVmFsdWU6IHsKICAgICAgICAgICAgW3JvdFpdOiAwLAogICAgICAgICAgICBzY2FsZTogMC45CiAgICAgICAgfSwKICAgICAgICBlYXNpbmc6IHsKICAgICAgICAgICAgdHlwZTogInNpbnVzb2lkYWwiLAogICAgICAgICAgICBtb2RlOiAiaW5vdXQiCiAgICAgICAgfSwKICAgICAgICBkdXJhdGlvbjogMC41CiAgICB9KS5jYXRjaChlID0+IHt9KTsKfQplbHNlCnsKICAgIGxpbmtzLmFiMUJvdC5hbmltYXRlQm90KCk7CgogICAgbGlua3MuYWIxQm90Lm1hc2tzLmxpbmVUbyA9IG51bGw7CgogICAgaWYgKGxpbmtzLmFiMUJvdC50YWdzLmFybSkKICAgIHsKICAgICAgICBkZXN0cm95KGxpbmtzLmFiMUJvdC5saW5rcy5hcm0pOwogICAgfQoKICAgIHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKICAgIGxpbmtzLmFiMUJvdC5tYXNrcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IGxpbmtzLmFiMUJvdC5hbmltYXRlQm90KCksIDIwMDApOwp9CicAyoHCogy6OBxhYjFNYW5pZmVzdFN0YXRlQXdha2VPbkVudGVyAgQAyoHCogyiW/YBQGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSA9IHRydWU7CgpsZXQgZGltZW5zaW9uID0gY29uZmlnQm90LnRhZ3MubWFwUG9ydGFsID8gY29uZmlnQm90LnRhZ3MubWFwUG9ydGFsIDogY29uZmlnQm90LnRhZ3MuZ3JpZFBvcnRhbDsKCmlmICghZGltZW5zaW9uKQp7CiAgICByZXR1cm47Cn0KCnRoaXNCb3QuYWIxTWFuaWZlc3RCb3Qoe2RpbWVuc2lvbjogZGltZW5zaW9uLCBwb3NpdGlvbjoge3g6IDAsIHk6IDB9fSk7JwDKgcKiDLo4DG9uQW55Qm90RHJhZwIEAMqBwqIMmV2pBkBpZiAodGhhdC5ib3QgIT0gbGlua3MuYWIxQm90KSByZXR1cm47CgppZiAobGlua3MuYWIxQm90LnRhZ3MuYXJtKQp7CiAgICBkZXN0cm95KGxpbmtzLmFiMUJvdC5saW5rcy5hcm0pOwp9CgppZiAoIXRoYXQuYm90LnRhZ3MuaW50ZXJ2YWwpCnsKICAgIHRoaXNCb3QuYWIxQ2xpY2soKTsKfQoKbGV0IGFybSA9IHt9OwoKYXJtLnNwYWNlID0gInRlbXBMb2NhbCI7CmFybVt0aGF0LmZyb20uZGltZW5zaW9uXSA9IHRydWU7CmFybS5kaW1lbnNpb24gPSB0aGF0LmZyb20uZGltZW5zaW9uOwphcm0uc2NhbGUgPSAwLjk7CmFybS5zY2FsZVogPSAwLjAxOwphcm0uY29sb3IgPSAiY2xlYXIiOwphcm0uc3Ryb2tlQ29sb3IgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUJhc2VDb2xvcjsKYXJtLmxpbmVDb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQmFzZUNvbG9yOwphcm0ubGluZVRvID0gdGhhdC5ib3QuaWQ7CmFybS5tYW5hZ2VyID0gIvCflJciICsgdGhpc0JvdC5pZDsKYXJtLm9uQ2xpY2sgPSBgQCBkZXN0cm95KHRoaXNCb3QpOwoKbGlua3MubWFuYWdlci5hYjFNYW5pZmVzdEJvdCh7ZGltZW5zaW9uOiB0YWdzLmRpbWVuc2lvbiwgcG9zaXRpb246e3g6dGFnc1t0YWdzLmRpbWVuc2lvbiArICJYIl0seTp0YWdzW3RhZ3MuZGltZW5zaW9uICsgIlkiXX19KTtgOwovL2FybS5vbkRyb3AgPSAiQCBvcy50b2FzdCgnaGVsbG8nKTsiOwoKbGV0IG5ld0FybSA9IGF3YWl0IGNyZWF0ZShhcm0pOwoKbGlua3MuYWIxQm90Lm1hc2tzLmFybSA9ICLwn5SXIiArIG5ld0FybS5pZDsKCm9zLnJlcGxhY2VEcmFnQm90KG5ld0FybSk7JwDKgcKiDLo4EW9uQW55Qm90RHJvcEVudGVyAgQAyoHCogy/Y90BQGlmICghdGFncy5hYjFCb3QpIHJldHVybjsKaWYgKGxpbmtzLmFiMUJvdC5saW5rcy5hcm0gIT0gdGhhdC5kcmFnQm90KSByZXR1cm47CgpsaW5rcy5hYjFCb3QubGlua3MuYXJtLm1hc2tzLnN0cm9rZUNvbG9yID0gImNsZWFyIjsKbGlua3MuYWIxQm90LmxpbmtzLmFybS5tYXNrcy5saW5lVG8gPSBmYWxzZTsKCmxpbmtzLmFiMUJvdC5tYXNrcy5saW5lVG8gPSB0aGF0LnRvLmJvdC5pZDsnAMqBwqIMujgQb25BbnlCb3REcm9wRXhpdAIEAMqBwqIMnWXkAUBpZiAoIXRhZ3MuYWIxQm90KSByZXR1cm47CmlmIChsaW5rcy5hYjFCb3QubGlua3MuYXJtICE9IHRoYXQuZHJhZ0JvdCkgcmV0dXJuOwoKbGlua3MuYWIxQm90LmxpbmtzLmFybS5tYXNrcy5zdHJva2VDb2xvciA9IG51bGw7CmxpbmtzLmFiMUJvdC5saW5rcy5hcm0ubWFza3MubGluZVRvID0gbnVsbDsKCmxpbmtzLmFiMUJvdC5tYXNrcy5saW5lVG8gPSBsaW5rcy5hYjFCb3QubGlua3MuYXJtLmlkOycAyoHCogy6OAxvbkFueUJvdERyb3ACBADKgcKiDIJnhwRAaWYgKCF0YWdzLmFiMUJvdCkgcmV0dXJuOwppZiAobGlua3MuYWIxQm90LmxpbmtzLmFybSAhPSB0aGF0LmRyYWdCb3QpIHJldHVybjsKCmlmICh0aGF0LnRvLmJvdCkKewogICAgaWYgKHRoYXQudG8uYm90ID09IGxpbmtzLmFiMUJvdCkKICAgIHsKICAgICAgICBsaW5rcy5tZW51LmFiMUVudmlyb25tZW50TWVudSgpOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGxpbmtzLnJlbWVtYmVyLm1hc2tzLmFiMUJvdEZvY3VzID0gIvCflJciICsgdGhhdC50by5ib3QuaWQ7CgogICAgICAgIHRoaXNCb3QuYWIxQ2xpY2soe21lbnU6ICJib3QifSk7CiAgICB9CgogICAgZGVzdHJveShsaW5rcy5hYjFCb3QubGlua3MuYXJtKTsKfQplbHNlCnsKICAgIGxpbmtzLnJlbWVtYmVyLm1hc2tzLmFiMUdyaWRGb2N1cyA9IHtkaW1lbnNpb246IHRoYXQudG8uZGltZW5zaW9uLCBwb3NpdGlvbjoge3g6IHRoYXQudG8ueCwgeTogdGhhdC50by55fX07CgogICAgdGhpc0JvdC5hYjFDbGljayh7bWVudTogImdyaWQifSk7Cn0A"}]}